//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package mscfb ;import (_g "bytes";_a "encoding/binary";_cg "fmt";_b "github.com/richardlehane/msoleps/types";_fd "github.com/unidoc/unioffice/internal/mscfb/rw";_fb "io";_ce "os";_e "strconv";_ge "time";_cb "unicode";_f "unicode/utf16";);const (_cbeb uint64 =0xE11AB1A1E011CFD0;_aegg uint32 =64;_aad int64 =4096;_efg uint32 =128;);func (_ggd *File )findLast (_dgf bool )(uint32 ,error ){_ggc :=_ggd ._ab ;for {_dba ,_bbae :=_ggd ._ed .findNext (_ggc ,_dgf );if _bbae !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_bbae .Error ()+"\u0029",0};};if _dba ==_dcd {break ;};_ggc =_dba ;};return _ggc ,nil ;};func New (ra _fb .ReaderAt )(*Reader ,error ){_fge :=&Reader {_cgde :ra };if _ ,_gddc :=ra .(slicer );_gddc {_fge ._cde =true ;}else {_fge ._egef =make ([]byte ,_ceb );};if _cgc :=_fge .setHeader ();_cgc !=nil {return nil ,_cgc ;};if !_fge ._cde &&int (_fge ._bfe )> len (_fge ._egef ){_fge ._egef =make ([]byte ,_fge ._bfe );};if _ggb :=_fge .setDifats ();_ggb !=nil {return nil ,_ggb ;};if _dfgf :=_fge .setDirEntries ();_dfgf !=nil {return nil ,_dfgf ;};if _bea :=_fge .setMiniStream ();_bea !=nil {return nil ,_bea ;};if _aab :=_fge .traverse ();_aab !=nil {return nil ,_aab ;};return _fge ,nil ;};func (_ccc *File )ID ()string {return _ccc ._cf .String ()};func (_egf *Reader )findNext (_dga uint32 ,_bfb bool )(uint32 ,error ){_dgcb :=_egf ._bfe /4;_gafg :=int (_dga /_dgcb );var _efdf uint32 ;if _bfb {if _gafg < 0||_gafg >=len (_egf ._fed ._edfa ){return 0,Error {ErrRead ,"\u006d\u0069\u006e\u0069\u0073e\u0063\u0074\u006f\u0072\u0020\u0069\u006e\u0064\u0065\u0078\u0020\u0069\u0073 \u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u006d\u0069\u006e\u0069\u0046\u0041\u0054\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_gafg )};};_efdf =_egf ._fed ._edfa [_gafg ];}else {if _gafg < 0||_gafg >=len (_egf ._fed ._cbef ){return 0,Error {ErrRead ,"\u0046\u0041\u0054\u0020\u0069\u006e\u0064\u0065\u0078\u0020\u0069\u0073\u0020\u006f\u0075t\u0073i\u0064\u0065\u0020\u0044\u0049\u0046\u0041\u0054\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_gafg )};};_efdf =_egf ._fed ._cbef [_gafg ];};_agf :=_dga %_dgcb ;_gege :=_dce (_egf ._bfe ,_efdf )+int64 (_agf *4);_cfce ,_fcb :=_egf .readAt (_gege ,4);if _fcb !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_fcb .Error ()+"\u0029",_gege };};_gcc :=_a .LittleEndian .Uint32 (_cfce );return _gcc ,nil ;};type File struct{Name string ;Initial uint16 ;Path []string ;Size int64 ;_cbe int64 ;_gb uint32 ;_gfd int64 ;*directoryEntryFields ;_ed *Reader ;};func (_dgc *File )Created ()_ge .Time {return _dgc ._gdg .Time ()};func (_fbg fileInfo )Size ()int64 {if _fbg ._gd !=_gf {return 0;};return _fbg .File .Size ;};func (_dbde *Reader )findNextFreeSector (_fdg bool )(uint32 ,error ){_abdf :=_dbde .findFatLocsOffset (_fdg );_fca :=uint32 (0);_cgfe :=_dbde ._bfe /4;for {_eab ,_dbef :=_dbde .readAt (_abdf ,4);if _dbef !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_dbef .Error ()+"\u0029",_abdf };};_afcb :=_a .LittleEndian .Uint32 (_eab );if _afcb ==_cfa {break ;};if _fca >=_cgfe {return 0,Error {ErrRead ,"\u0065\u006e\u0064\u0020of\u0020\u006d\u0069\u006e\u0069\u0046\u0061\u0074\u0020\u0072\u0065\u0061\u0063\u0068e\u0064",_abdf };};_fca ++;_abdf +=4;};return _fca ,nil ;};func (_dfb *File )changeSize (_bfd int64 )error {if _bfd ==_dfb .Size {return nil ;};var _fac *File ;for _ ,_bfa :=range _dfb ._ed ._ddb {if _bfa .Name ==_dfb .Name {_fac =_bfa ;break ;};};if _fac ==nil {return _cg .Errorf ("\u004e\u006f\u0020\u0064\u0069\u0072e\u0063\u0074\u006f\u0072\u0079\u0020\u0065\u006e\u0074\u0072\u0079\u0020\u0066o\u0072\u0020\u0061\u0020\u0066\u0069\u006ce\u003a\u0020\u0025\u0073",_dfb .Name );};_aca :=_g .NewBuffer ([]byte {});if _gge :=_a .Write (_aca ,_a .LittleEndian ,_bfd );_gge !=nil {return _gge ;};for _ag ,_cef :=range _aca .Bytes (){_fac ._ee [_ag ]=_cef ;};var _fgd int64 ;var _eaf bool ;if _dfb .Size < _aad {_eaf =true ;_fgd =int64 (_aegg );}else {_fgd =int64 (_dfb ._ed ._bfe );};_fff :=int ((_dfb .Size -1)/_fgd )+1;_cefe :=int ((_bfd -1)/_fgd )+1;if _fff < _cefe {_gce ,_dcc :=_dfb .findLast (_eaf );if _dcc !=nil {return _dcc ;};_bae ,_dcc :=_dfb ._ed .findNextFreeSector (_eaf );if _dcc !=nil {return _dcc ;};for _bbe :=_cefe -_fff ;_bbe > 0;_bbe --{if _afb :=_dfb ._ed .saveToFatLocs (_gce ,_bae ,_eaf );_afb !=nil {return _afb ;};if _bbe > 1{_gce =_bae ;_bae ++;}else if _gcf :=_dfb ._ed .saveToFatLocs (_bae ,_dcd ,_eaf );_gcf !=nil {return _gcf ;};};}else if _fff > _cefe {_abf :=_dfb ._ab ;var _edf error ;for _fgb :=0;_fgb < _cefe -1;_fgb ++{_abf ,_edf =_dfb ._ed .findNext (_abf ,_eaf );if _edf !=nil {return _edf ;};};if _bd :=_dfb ._ed .saveToFatLocs (_abf ,_dcd ,_eaf );_bd !=nil {return _bd ;};};_dfb .Size =_bfd ;return nil ;};func (_cccc *File )seek (_afd int64 )error {var _gfcc bool ;var _gae int64 ;if _cccc .Size < _aad {_gfcc =true ;_gae =64;}else {_gae =int64 (_cccc ._ed ._bfe );};var _dbf int64 ;var _cefa error ;if _cccc ._gfd > 0{if _gae -_cccc ._gfd <=_afd {_cccc ._gb ,_cefa =_cccc ._ed .findNext (_cccc ._gb ,_gfcc );if _cefa !=nil {return _cefa ;};_dbf +=_gae -_cccc ._gfd ;_cccc ._gfd =0;if _dbf ==_afd {return nil ;};}else {_cccc ._gfd +=_afd ;return nil ;};if _cccc ._gb ==_dcd {return Error {ErrRead ,"\u0075\u006ee\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0061\u0072\u006c\u0079\u0020\u0065\u006e\u0064\u0020\u006f\u0066\u0020\u0063ha\u0069\u006e",int64 (_cccc ._gb )};};};for {if _afd -_dbf < _gae {_cccc ._gfd =_afd -_dbf ;return nil ;}else {_dbf +=_gae ;_cccc ._gb ,_cefa =_cccc ._ed .findNext (_cccc ._gb ,_gfcc );if _cefa !=nil {return _cefa ;};if _dbf ==_afd {return nil ;};};};};type Reader struct{_cde bool ;_bfe uint32 ;_egef []byte ;_fed *header ;File []*File ;_ddb []*File ;_dcb int ;_cgde _fb .ReaderAt ;_efbd _fb .WriterAt ;};const _fa int =64+4*4+16+4+8*2+4+8;func (_bdb *Reader )exportDirEntries (_dbage *_fd .Writer )error {if int64 (_dbage .Len ())!=_dce (_bdb ._bfe ,_bdb ._fed ._bde ){return Error {ErrWrite ,_cg .Sprintf ("I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u0077\u0072\u0069\u0074\u0065\u0072\u0020l\u0065\u006e\u0067t\u0068:\u0020\u0025\u0076",_dbage .Len ()),0};};for _ ,_geec :=range _bdb ._ddb {_gaeg ,_ggdb :=_fba (_geec .directoryEntryFields );if _ggdb !=nil {return _ggdb ;};if _ ,_gbc :=_fb .Copy (_dbage ,_gaeg );_gbc !=nil {return _gbc ;};};return nil ;};func (_ggba *Reader )Debug ()map[string ][]uint32 {_gfeb :=map[string ][]uint32 {"s\u0065\u0063\u0074\u006f\u0072\u0020\u0073\u0069\u007a\u0065":[]uint32 {_ggba ._bfe },"\u006d\u0069\u006e\u0069\u0020\u0066\u0061\u0074\u0020\u006c\u006f\u0063\u0073":_ggba ._fed ._edfa ,"\u006d\u0069n\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u006c\u006f\u0063\u0073":_ggba ._fed ._fdbg ,"\u0064\u0069r\u0065\u0063\u0074o\u0072\u0079\u0020\u0073\u0065\u0063\u0074\u006f\u0072":[]uint32 {_ggba ._fed ._bde },"\u006d\u0069\u006e\u0069 s\u0074\u0072\u0065\u0061\u006d\u0020\u0073\u0074\u0061\u0072\u0074\u002f\u0073\u0069z\u0065":[]uint32 {_ggba .File [0]._ab ,_a .LittleEndian .Uint32 (_ggba .File [0]._ee [:])}};for _bfg ,_acb :=_ggba .Next ();_acb ==nil ;_bfg ,_acb =_ggba .Next (){_gfeb [_bfg .Name +" \u0073\u0074\u0061\u0072\u0074\u002f\u0073\u0069\u007a\u0065"]=[]uint32 {_bfg ._ab ,_a .LittleEndian .Uint32 (_bfg ._ee [:])};};return _gfeb ;};func _bbg (_af *File ){if _af ._gg < 4||_af ._gg > 64{return ;};_fab :=int (_af ._gg /2-1);_af .Initial =_af ._ef [0];var _cea int ;if !_cb .IsPrint (rune (_af .Initial )){_cea =1;};_af .Name =string (_f .Decode (_af ._ef [_cea :_fab ]));};type slicer interface{Slice (_gbfb int64 ,_bff int )([]byte ,error );};func (_dbc *Reader )setHeader ()error {_cee ,_gba :=_dbc .readAt (0,_ceb );if _gba !=nil {return _gba ;};_dbc ._fed =&header {headerFields :_cbd (_cee )};if _dbc ._fed ._fgdf !=_cbeb {return Error {ErrFormat ,"\u0062\u0061\u0064\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065",int64 (_dbc ._fed ._fgdf )};};if _dbc ._fed ._cag ==0x0009||_dbc ._fed ._cag ==0x000c{_dbc ._bfe =uint32 (1<<_dbc ._fed ._cag );}else {return Error {ErrFormat ,"\u0069\u006c\u006c\u0065ga\u006c\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0073\u0069\u007a\u0065",int64 (_dbc ._fed ._cag )};};if _dbc ._fed ._dbd > 0{_gbeag :=(_dbc ._bfe /4)-1;if int (_dbc ._fed ._dbd *_gbeag +109)< 0{return Error {ErrFormat ,"\u0044I\u0046A\u0054\u0020\u0069\u006e\u0074 \u006f\u0076e\u0072\u0066\u006c\u006f\u0077",int64 (_dbc ._fed ._dbd )};};if _dbc ._fed ._dbd *_gbeag +109> _dbc ._fed ._gaec +_gbeag {return Error {ErrFormat ,"\u006e\u0075\u006d\u0020\u0044\u0049\u0046\u0041\u0054\u0073 \u0065\u0078\u0063\u0065\u0065\u0064\u0073 \u0046\u0041\u0054\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0073",int64 (_dbc ._fed ._dbd )};};};if _dbc ._fed ._cad > 0{if int (_dbc ._bfe /4*_dbc ._fed ._cad )< 0{return Error {ErrFormat ,"m\u0069\u006e\u0069\u0020FA\u0054 \u0069\u006e\u0074\u0020\u006fv\u0065\u0072\u0066\u006c\u006f\u0077",int64 (_dbc ._fed ._cad )};};if _dbc ._fed ._cad > _dbc ._fed ._gaec *(_dbc ._bfe /_aegg ){return Error {ErrFormat ,"\u006e\u0075\u006d\u0020\u006d\u0069n\u0069\u0020\u0046\u0041\u0054\u0073\u0020\u0065\u0078\u0063\u0065\u0065\u0064s\u0020\u0046\u0041\u0054\u0020\u0073\u0065c\u0074\u006f\u0072\u0073",int64 (_dbc ._fed ._gaec )};};};return nil ;};const (ErrFormat =iota ;ErrRead ;ErrSeek ;ErrWrite ;ErrTraverse ;);func _gde (_bc [][2]int64 )[][2]int64 {_bgcf :=len (_bc );for _gef ,_gbd :=0,0;_gef < _bgcf &&_gbd +1< len (_bc );_gef ++{if _bc [_gbd ][0]+_bc [_gbd ][1]==_bc [_gbd +1][0]{_bc [_gbd ][1]=_bc [_gbd ][1]+_bc [_gbd +1][1];for _cefb :=range _bc [_gbd +1:len (_bc )-1]{_bc [_gbd +1+_cefb ]=_bc [_cefb +_gbd +2];};_bc =_bc [:len (_bc )-1];}else {_gbd +=1;};};return _bc ;};func (_cgf *File )SetEntryContent (b []byte )error {if _eef :=_cgf .ensureWriterAt ();_eef !=nil {return _eef ;};_cgf .reset ();if _eec :=_cgf .changeSize (int64 (len (b )));_eec !=nil {return _eec ;};_ ,_gfcg :=_cgf .Write (b );return _gfcg ;};type headerFields struct{_fgdf uint64 ;_ [16]byte ;_ffdb uint16 ;_abfg uint16 ;_ [2]byte ;_cag uint16 ;_ [2]byte ;_ [6]byte ;_aeea uint32 ;_gaec uint32 ;_bde uint32 ;_ [4]byte ;_ [4]byte ;_gfe uint32 ;_cad uint32 ;_gbf uint32 ;_dbd uint32 ;_gebb [109]uint32 ;};func (_gfc fileInfo )ModTime ()_ge .Time {return _gfc .Modified ()};func (_ddg *File )Write (b []byte )(int ,error ){if _ddg .Size < 1||_ddg ._cbe >=_ddg .Size {return 0,_fb .EOF ;};if _ffe :=_ddg .ensureWriterAt ();_ffe !=nil {return 0,_ffe ;};_ccb :=len (b );if int64 (_ccb )> _ddg .Size -_ddg ._cbe {_ccb =int (_ddg .Size -_ddg ._cbe );};_acd ,_gbe :=_ddg .stream (_ccb );if _gbe !=nil {return 0,_gbe ;};var _da ,_abd int ;for _ ,_fe :=range _acd {_gee :=_da +int (_fe [1]);if _gee < _da ||_gee > _ccb {return 0,Error {ErrWrite ,"\u0062\u0061d\u0020\u0077\u0072i\u0074\u0065\u0020\u006c\u0065\u006e\u0067\u0074\u0068",int64 (_gee )};};_fg ,_cce :=_ddg ._ed ._efbd .WriteAt (b [_da :_gee ],_fe [0]);_abd =_abd +_fg ;if _cce !=nil {_ddg ._cbe +=int64 (_abd );return _abd ,Error {ErrWrite ,"\u0075n\u0064\u0065\u0072\u006c\u0079\u0069\u006e\u0067\u0020\u0077\u0072i\u0074\u0065\u0072\u0020\u0066\u0061\u0069\u006c\u0020\u0028"+_cce .Error ()+"\u0029",int64 (_da )};};_da =_gee ;};_ddg ._cbe +=int64 (_abd );if _abd !=_ccb {_gbe =Error {ErrWrite ,"\u0062\u0079t\u0065\u0073\u0020\u0077\u0072\u0069\u0074\u0074\u0065\u006e\u0020\u0064\u006f\u0020\u006e\u006f\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0077\u0072\u0069\u0074\u0065\u0020\u0073\u0069\u007a\u0065",int64 (_abd )};}else if _abd < len (b ){_gbe =_fb .EOF ;};return _abd ,_gbe ;};func (_dc *Reader )setDirEntries ()error {_ae :=20;if _dc ._fed ._aeea > 0{_ae =int (_dc ._fed ._aeea );};_ff :=make ([]*File ,0,_ae );_eee :=make (map[uint32 ]bool );_dd :=int (_dc ._bfe /_efg );_bee :=_dc ._fed ._bde ;for _bee !=_dcd {_gfa ,_de :=_dc .readAt (_dce (_dc ._bfe ,_bee ),int (_dc ._bfe ));if _de !=nil {return Error {ErrRead ,"\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020e\u006e\u0074\u0072\u0069\u0065\u0073\u0020r\u0065\u0061\u0064\u0020\u0065\u0072\u0072\u006f\u0072\u0020\u0028"+_de .Error ()+"\u0029",_dce (_dc ._bfe ,_bee )};};for _ad :=0;_ad < _dd ;_ad ++{_df :=&File {_ed :_dc };_df .directoryEntryFields =_gaf (_gfa [_ad *int (_efg ):]);_bb (_dc ._fed ._abfg ,_df );_df ._gb =_df ._ab ;_ff =append (_ff ,_df );};_dg ,_de :=_dc .findNext (_bee ,false );if _de !=nil {return Error {ErrRead ,"d\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020\u0065\u006e\u0074\u0072\u0069\u0065\u0073\u0020\u0065r\u0072\u006f\u0072\u0020\u0066\u0069\u006e\u0064\u0069\u006eg \u0073\u0065\u0063t\u006fr\u0020\u0028"+_de .Error ()+"\u0029",int64 (_dg )};};if _dg <=_bee {if _dg ==_bee ||_eee [_dg ]{return Error {ErrRead ,"\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020e\u006e\u0074\u0072\u0069\u0065\u0073\u0020s\u0065\u0063\u0074\u006f\u0072\u0020\u0063\u0079\u0063\u006c\u0065",int64 (_dg )};};_eee [_dg ]=true ;};_bee =_dg ;};_dc ._ddb =_ff ;return nil ;};func (_ege *File )stream (_gad int )([][2]int64 ,error ){var _dcge bool ;var _ffa int ;var _ccd int64 ;if _ege .Size < _aad {_dcge =true ;_ffa =_gad /int (_aegg )+2;_ccd =int64 (_aegg );}else {_ffa =_gad /int (_ege ._ed ._bfe )+2;_ccd =int64 (_ege ._ed ._bfe );};_egb :=make ([][2]int64 ,0,_ffa );var _gbea ,_cgd int ;if _ege ._gfd > 0{_ffd ,_dbag :=_ege ._ed .getOffset (_ege ._gb ,_dcge );if _dbag !=nil {return nil ,_dbag ;};if _ccd -_ege ._gfd >=int64 (_gad ){_egb =append (_egb ,[2]int64 {_ffd +_ege ._gfd ,int64 (_gad )});}else {_egb =append (_egb ,[2]int64 {_ffd +_ege ._gfd ,_ccd -_ege ._gfd });};if _ccd -_ege ._gfd <=int64 (_gad ){_ege ._gb ,_dbag =_ege ._ed .findNext (_ege ._gb ,_dcge );if _dbag !=nil {return nil ,_dbag ;};_cgd +=int (_ccd -_ege ._gfd );_ege ._gfd =0;}else {_ege ._gfd +=int64 (_gad );};if _egb [0][1]==int64 (_gad ){return _egb ,nil ;};if _ege ._gb ==_dcd {return nil ,Error {ErrRead ,"\u0075\u006ee\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0061\u0072\u006c\u0079\u0020\u0065\u006e\u0064\u0020\u006f\u0066\u0020\u0063ha\u0069\u006e",int64 (_ege ._gb )};};_gbea ++;};for {if _gbea >=cap (_egb ){return nil ,Error {ErrRead ,"\u0069\u006e\u0064\u0065x\u0020\u006f\u0076\u0065\u0072\u0072\u0075\u006e\u0073\u0020s\u0065c\u0074\u006f\u0072\u0020\u006c\u0065\u006eg\u0074\u0068",int64 (_gbea )};};_bbga ,_abg :=_ege ._ed .getOffset (_ege ._gb ,_dcge );if _abg !=nil {return nil ,_abg ;};if _gad -_cgd < int (_ccd ){_egb =append (_egb ,[2]int64 {_bbga ,int64 (_gad -_cgd )});_ege ._gfd =int64 (_gad -_cgd );return _gde (_egb ),nil ;}else {_egb =append (_egb ,[2]int64 {_bbga ,_ccd });_cgd +=int (_ccd );_ege ._gb ,_abg =_ege ._ed .findNext (_ege ._gb ,_dcge );if _abg !=nil {return nil ,_abg ;};if _cgd ==_gad {return _gde (_egb ),nil ;};};_gbea ++;};};func (_gc fileInfo )IsDir ()bool {return _gc .mode ().IsDir ()};func _dce (_fce ,_cgbf uint32 )int64 {return int64 ((_cgbf +1)*_fce )};type Error struct{_gfec int ;_egc string ;_ecca int64 ;};const (_bad uint32 =0xFFFFFFFA;_ggdf uint32 =0xFFFFFFFC;_cfc uint32 =0xFFFFFFFD;_dcd uint32 =0xFFFFFFFE;_cfa uint32 =0xFFFFFFFF;_aaf byte =0xFF;_cca uint32 =0xFFFFFFFA;_fagf uint32 =0xFFFFFFFF;);type header struct{*headerFields ;_cbef []uint32 ;_edfa []uint32 ;_fdbg []uint32 ;};const (_be uint8 =0x0;_fc uint8 =0x1;_gf uint8 =0x2;_fde uint8 =0x5;);func (_bgca *Reader )exportFAT (_fdgg *_fd .Writer ,_ceg []uint32 )error {if _bgca ._fed ._gaec ==0{return nil ;};_bdbd :=_g .NewBuffer ([]byte {});if _bfaa :=_a .Write (_bdbd ,_a .LittleEndian ,_cfc );_bfaa !=nil {return _bfaa ;};for _bgd :=0;_bgd < len (_ceg )-1;_bgd ++{for _aac :=_ceg [_bgd ];_aac < _ceg [_bgd +1]-1;_aac ++{if _agga :=_a .Write (_bdbd ,_a .LittleEndian ,_aac );_agga !=nil {return _agga ;};};if _aea :=_a .Write (_bdbd ,_a .LittleEndian ,_dcd );_aea !=nil {return _aea ;};};_aefa :=512;for _ ,_dfa :=range _bdbd .Bytes (){if _fee :=_fdgg .WriteByteAt (_dfa ,_aefa );_fee !=nil {return _fee ;};_aefa ++;};return nil ;};func _fba (_dfc *directoryEntryFields )(*_g .Buffer ,error ){_fafd :=_g .NewBuffer ([]byte {});for _ ,_beg :=range _dfc ._ef {if _ccg :=_a .Write (_fafd ,_a .LittleEndian ,&_beg );_ccg !=nil {return nil ,_ccg ;};};if _dgga :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._gg );_dgga !=nil {return nil ,_dgga ;};if _dbbd :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._gd );_dbbd !=nil {return nil ,_dbbd ;};if _aef :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._ea );_aef !=nil {return nil ,_aef ;};if _afdd :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._ec );_afdd !=nil {return nil ,_afdd ;};if _caf :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._eb );_caf !=nil {return nil ,_caf ;};if _bfdg :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._ga );_bfdg !=nil {return nil ,_bfdg ;};if _adb :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._cf .DataA );_adb !=nil {return nil ,_adb ;};if _fdea :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._cf .DataB );_fdea !=nil {return nil ,_fdea ;};if _eac :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._cf .DataC );_eac !=nil {return nil ,_eac ;};if _ ,_edff :=_fafd .Write (_dfc ._cf .DataD [:]);_edff !=nil {return nil ,_edff ;};if _ ,_baf :=_fafd .Write (_dfc ._cbb [:]);_baf !=nil {return nil ,_baf ;};if _cfb :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._gdg .Low );_cfb !=nil {return nil ,_cfb ;};if _cfg :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._gdg .High );_cfg !=nil {return nil ,_cfg ;};if _cfdc :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._fae .Low );_cfdc !=nil {return nil ,_cfdc ;};if _aaa :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._fae .High );_aaa !=nil {return nil ,_aaa ;};if _fcc :=_a .Write (_fafd ,_a .LittleEndian ,&_dfc ._ab );_fcc !=nil {return nil ,_fcc ;};if _ ,_cgb :=_fafd .Write (_dfc ._ee [:]);_cgb !=nil {return nil ,_cgb ;};return _fafd ,nil ;};func (_fbf *Reader )saveToFatLocs (_defa uint32 ,_ebg interface{},_ccgg bool )error {_feed :=_g .NewBuffer ([]byte {});if _dfbe :=_a .Write (_feed ,_a .LittleEndian ,_ebg );_dfbe !=nil {return _dfbe ;};_fgf :=_fbf .findFatLocsOffset (_ccgg )+int64 (_defa *4);_ ,_dff :=_fbf ._efbd .WriteAt (_feed .Bytes (),_fgf );return _dff ;};func (_dgcd *File )Seek (offset int64 ,whence int )(int64 ,error ){var _fag int64 ;switch whence {default:return 0,Error {ErrSeek ,"\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0077h\u0065\u006e\u0063\u0065",int64 (whence )};case 0:_fag =offset ;case 1:_fag =_dgcd ._cbe +offset ;case 2:_fag =_dgcd .Size -offset ;};switch {case _fag < 0:return _dgcd ._cbe ,Error {ErrSeek ,"\u0063\u0061\u006e'\u0074\u0020\u0073\u0065e\u006b\u0020\u0062\u0065\u0066\u006f\u0072e\u0020\u0073\u0074\u0061\u0072\u0074\u0020\u006f\u0066\u0020\u0046\u0069\u006c\u0065",_fag };case _fag >=_dgcd .Size :return _dgcd ._cbe ,Error {ErrSeek ,"c\u0061\u006e\u0027\u0074\u0020\u0073e\u0065\u006b\u0020\u0070\u0061\u0073\u0074\u0020\u0046i\u006c\u0065\u0020l\u0065n\u0067\u0074\u0068",_fag };case _fag ==_dgcd ._cbe :return _fag ,nil ;case _fag > _dgcd ._cbe :_efba :=_dgcd ._cbe ;_dgcd ._cbe =_fag ;return _dgcd ._cbe ,_dgcd .seek (_fag -_efba );};if _dgcd ._gfd >=_dgcd ._cbe -_fag {_dgcd ._gfd =_dgcd ._gfd -(_dgcd ._cbe -_fag );_dgcd ._cbe =_fag ;return _dgcd ._cbe ,nil ;};_dgcd ._gfd =0;_dgcd ._gb =_dgcd ._ab ;_dgcd ._cbe =_fag ;return _dgcd ._cbe ,_dgcd .seek (_fag );};func (_fdd *File )WriteAt (p []byte ,off int64 )(_fbga int ,_efb error ){_bga ,_bgg ,_fbgg :=_fdd ._cbe ,_fdd ._gfd ,_fdd ._gb ;_ ,_efb =_fdd .Seek (off ,0);if _efb ==nil {_fbga ,_efb =_fdd .Write (p );};_fdd ._cbe ,_fdd ._gfd ,_fdd ._gb =_bga ,_bgg ,_fbgg ;return _fbga ,_efb ;};func (_dfg *Reader )readAt (_efbad int64 ,_bcfg int )([]byte ,error ){if _dfg ._cde {_dab ,_cdb :=_dfg ._cgde .(slicer ).Slice (_efbad ,_bcfg );if _cdb !=nil {return nil ,Error {ErrRead ,"\u0073\u006c\u0069\u0063er\u0020\u0072\u0065\u0061\u0064\u0020\u0065\u0072\u0072\u006f\u0072\u0020\u0028"+_cdb .Error ()+"\u0029",_efbad };};return _dab ,nil ;};if _bcfg > len (_dfg ._egef ){return nil ,Error {ErrRead ,"\u0072\u0065ad\u0020\u006c\u0065n\u0067\u0074\u0068\u0020gre\u0061te\u0072\u0020\u0074\u0068\u0061\u006e\u0020re\u0061\u0064\u0020\u0062\u0075\u0066\u0066e\u0072",int64 (_bcfg )};};if _ ,_defb :=_dfg ._cgde .ReadAt (_dfg ._egef [:_bcfg ],_efbad );_defb !=nil {return nil ,Error {ErrRead ,_defb .Error (),_efbad };};return _dfg ._egef [:_bcfg ],nil ;};func (_ecc *Reader )Read (b []byte )(_bfee int ,_bfc error ){if _ecc ._dcb >=len (_ecc .File ){return 0,_fb .EOF ;};return _ecc .File [_ecc ._dcb ].Read (b );};func (_fef *Reader )exportDifats (_gcee *_fd .Writer )error {if _fef ._fed ._dbd ==0{return nil ;};return nil ;};const _ceb int =8+16+10+6+12+8+16+109*4;func (_aa fileInfo )Sys ()interface{}{return nil };func (_ded *File )Read (b []byte )(int ,error ){if _ded .Size < 1||_ded ._cbe >=_ded .Size {return 0,_fb .EOF ;};_bac :=len (b );if int64 (_bac )> _ded .Size -_ded ._cbe {_bac =int (_ded .Size -_ded ._cbe );};_eg ,_ebf :=_ded .stream (_bac );if _ebf !=nil {return 0,_ebf ;};var _dcg ,_fbc int ;for _ ,_fdf :=range _eg {_bbdb :=_dcg +int (_fdf [1]);if _bbdb < _dcg ||_bbdb > _bac {return 0,Error {ErrRead ,"\u0062a\u0064 \u0072\u0065\u0061\u0064\u0020\u006c\u0065\u006e\u0067\u0074\u0068",int64 (_bbdb )};};_aeg ,_geb :=_ded ._ed ._cgde .ReadAt (b [_dcg :_bbdb ],_fdf [0]);_fbc =_fbc +_aeg ;if _geb !=nil {_ded ._cbe +=int64 (_fbc );return _fbc ,Error {ErrRead ,"\u0075n\u0064\u0065\u0072\u006c\u0079\u0069\u006e\u0067\u0020\u0072\u0065a\u0064\u0065\u0072\u0020\u0066\u0061\u0069\u006c\u0020\u0028"+_geb .Error ()+"\u0029",int64 (_dcg )};};_dcg =_bbdb ;};_ded ._cbe +=int64 (_fbc );if _fbc !=_bac {_ebf =Error {ErrRead ,"\u0062\u0079\u0074e\u0073\u0020\u0072\u0065\u0061\u0064\u0020\u0064\u006f\u0020\u006e\u006f\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020r\u0065\u0061\u0064\u0020\u0073\u0069\u007a\u0065",int64 (_fbc )};}else if _fbc < len (b ){_ebf =_fb .EOF ;};return _fbc ,_ebf ;};func (_efd *File )reset (){_efd ._cbe =0;_efd ._gfd =0;_efd ._gb =_efd ._ab };func (_dgg *File )ReadAt (p []byte ,off int64 )(_bgc int ,_beda error ){_feb ,_cfd ,_agg :=_dgg ._cbe ,_dgg ._gfd ,_dgg ._gb ;_ ,_beda =_dgg .Seek (off ,0);if _beda ==nil {_bgc ,_beda =_dgg .Read (p );};_dgg ._cbe ,_dgg ._gfd ,_dgg ._gb =_feb ,_cfd ,_agg ;return _bgc ,_beda ;};func _gaf (_ggg []byte )*directoryEntryFields {_bg :=&directoryEntryFields {};for _bed :=range _bg ._ef {_bg ._ef [_bed ]=_a .LittleEndian .Uint16 (_ggg [_bed *2:_bed *2+2]);};_bg ._gg =_a .LittleEndian .Uint16 (_ggg [64:66]);_bg ._gd =uint8 (_ggg [66]);_bg ._ea =uint8 (_ggg [67]);_bg ._ec =_a .LittleEndian .Uint32 (_ggg [68:72]);_bg ._eb =_a .LittleEndian .Uint32 (_ggg [72:76]);_bg ._ga =_a .LittleEndian .Uint32 (_ggg [76:80]);_bg ._cf =_b .MustGuid (_ggg [80:96]);copy (_bg ._cbb [:],_ggg [96:100]);_bg ._gdg =_b .MustFileTime (_ggg [100:108]);_bg ._fae =_b .MustFileTime (_ggg [108:116]);_bg ._ab =_a .LittleEndian .Uint32 (_ggg [116:120]);copy (_bg ._ee [:],_ggg [120:128]);return _bg ;};func (_dda *File )Modified ()_ge .Time {return _dda ._fae .Time ()};func (_egg *Reader )GetEntry (entryName string )(*File ,error ){for _eabg ,_gegb :=_egg .Next ();_gegb ==nil ;_eabg ,_gegb =_egg .Next (){if _eabg .Name ==entryName {return _eabg ,nil ;};};return nil ,Error {ErrTraverse ,"\u004e\u006f\u0020\u0065\u006e\u0074\u0072\u0079\u0020\u0066o\u0075\u006e\u0064\u0020\u0066\u006f\u0072 \u0067\u0069\u0076\u0065\u006e\u0020\u006e\u0061\u006d\u0065\u002e",0};};func (_egeg *Reader )setDifats ()error {_egeg ._fed ._cbef =_egeg ._fed ._gebb [:];if _egeg ._fed ._dbd ==0{return nil ;};_dde :=(_egeg ._bfe /4)-1;_gfef :=make ([]uint32 ,109,_egeg ._fed ._dbd *_dde +109);copy (_gfef ,_egeg ._fed ._cbef );_egeg ._fed ._cbef =_gfef ;_ccce :=_egeg ._fed ._gbf ;for _debc :=0;_debc < int (_egeg ._fed ._dbd );_debc ++{_baa ,_fec :=_egeg .readAt (_dce (_egeg ._bfe ,_ccce ),int (_egeg ._bfe ));if _fec !=nil {return Error {ErrFormat ,"e\u0072r\u006f\u0072\u0020\u0073\u0065\u0074\u0074\u0069n\u0067\u0020\u0044\u0049FA\u0054\u0028"+_fec .Error ()+"\u0029",int64 (_ccce )};};for _fbag :=0;_fbag < int (_dde );_fbag ++{_egeg ._fed ._cbef =append (_egeg ._fed ._cbef ,_a .LittleEndian .Uint32 (_baa [_fbag *4:_fbag *4+4]));};_ccce =_a .LittleEndian .Uint32 (_baa [len (_baa )-4:]);};return nil ;};func (_gddb *Reader )exportHeader (_fbb *_fd .Writer )error {if _ffeed :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._fgdf );_ffeed !=nil {return _ffeed ;};if _dea :=_fbb .Skip (16);_dea !=nil {return _dea ;};if _bgf :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._ffdb );_bgf !=nil {return _bgf ;};if _agb :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._abfg );_agb !=nil {return _agb ;};if _geac :=_a .Write (_fbb ,_a .LittleEndian ,uint16 (0xfffe));_geac !=nil {return _geac ;};if _ddf :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._cag );_ddf !=nil {return _ddf ;};if _bfbc :=_a .Write (_fbb ,_a .LittleEndian ,uint16 (0x0006));_bfbc !=nil {return _bfbc ;};if _eeb :=_fbb .Skip (6);_eeb !=nil {return _eeb ;};if _eaef :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._aeea );_eaef !=nil {return _eaef ;};if _efc :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._gaec );_efc !=nil {return _efc ;};if _dfe :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._bde );_dfe !=nil {return _dfe ;};if _cbdf :=_fbb .Skip (4);_cbdf !=nil {return _cbdf ;};if _cec :=_a .Write (_fbb ,_a .LittleEndian ,uint32 (0x00001000));_cec !=nil {return _cec ;};if _cffd :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._gfe );_cffd !=nil {return _cffd ;};if _adbg :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._cad );_adbg !=nil {return _adbg ;};if _eebd :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._gbf );_eebd !=nil {return _eebd ;};if _gfb :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._dbd );_gfb !=nil {return _gfb ;};for _cbc :=0;_cbc < 109;_cbc ++{if _edfe :=_a .Write (_fbb ,_a .LittleEndian ,&_gddb ._fed ._gebb [_cbc ]);_edfe !=nil {return _edfe ;};};return nil ;};func (_dfd Error )Error ()string {return "\u006ds\u0063\u0066\u0062\u003a\u0020"+_dfd ._egc +"\u003b\u0020"+_e .FormatInt (_dfd ._ecca ,10);};func (_aeca fileInfo )Name ()string {return _aeca .File .Name };func (_fccg *Reader )Created ()_ge .Time {return _fccg .File [0].Created ()};func _bb (_aec uint16 ,_abc *File ){_bbg (_abc );if _abc ._gd !=_gf {return ;};if _aec > 3{_abc .Size =int64 (_a .LittleEndian .Uint64 (_abc ._ee [:]));}else {_abc .Size =int64 (_a .LittleEndian .Uint32 (_abc ._ee [:4]));};};func (_bbd *Reader )traverse ()error {_bbd .File =make ([]*File ,0,len (_bbd ._ddb ));var (_deb func (int ,[]string );_db error ;_eca int ;);_deb =func (_ac int ,_gggd []string ){_eca ++;if _eca > len (_bbd ._ddb ){_db =Error {ErrTraverse ,"\u0074\u0072\u0061\u0076\u0065\u0072\u0073\u0061\u006c\u0020\u0063o\u0075\u006e\u0074\u0065\u0072\u0020\u006f\u0076\u0065\u0072f\u006c\u006f\u0077",int64 (_ac )};return ;};if _ac < 0||_ac >=len (_bbd ._ddb ){_db =Error {ErrTraverse ,"\u0069\u006c\u006ceg\u0061\u006c\u0020\u0074\u0072\u0061\u0076\u0065\u0072\u0073\u0061\u006c\u0020\u0069\u006e\u0064\u0065\u0078",int64 (_ac )};return ;};_dbb :=_bbd ._ddb [_ac ];if _dbb ._ec !=_fagf {_deb (int (_dbb ._ec ),_gggd );};_bbd .File =append (_bbd .File ,_dbb );_dbb .Path =_gggd ;if _dbb ._ga !=_fagf {if _ac > 0{_deb (int (_dbb ._ga ),append (_gggd ,_dbb .Name ));}else {_deb (int (_dbb ._ga ),_gggd );};};if _dbb ._eb !=_fagf {_deb (int (_dbb ._eb ),_gggd );};return ;};_deb (0,[]string {});return _db ;};func (_edaf *Reader )GetHeader ()*header {return _edaf ._fed };func (_faf *File )ensureWriterAt ()error {if _faf ._ed ._efbd ==nil {_dgd ,_bf :=_faf ._ed ._cgde .(_fb .WriterAt );if !_bf {return Error {ErrWrite ,"\u006d\u0073\u0063\u0066\u0062\u002e\u004ee\u0077\u0020\u006d\u0075\u0073\u0074\u0020\u0062\u0065\u0020\u0067\u0069\u0076\u0065n\u0020R\u0065\u0061\u0064\u0065\u0072\u0041t\u0020\u0063\u006f\u006e\u0076\u0065\u0072t\u0069\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0061\u0020\u0069\u006f\u002e\u0057\u0072\u0069\u0074\u0065\u0072\u0041\u0074\u0020\u0069n\u0020\u006f\u0072\u0064\u0065\u0072\u0020\u0074\u006f\u0020\u0077\u0072\u0069t\u0065",0};};_faf ._ed ._efbd =_dgd ;};return nil ;};func (_daaa *Reader )Next ()(*File ,error ){_daaa ._dcb ++;if _daaa ._dcb >=len (_daaa .File ){return nil ,_fb .EOF ;};return _daaa .File [_daaa ._dcb ],nil ;};func (_bbaea *Reader )exportMiniStream ()(*_fd .Writer ,*_fd .Writer ,error ){_egd ,_bcc :=_fd .NewWriter (),_fd .NewWriter ();_cage :=uint32 (0);for _ ,_eabd :=range _bbaea .File {if _eabd .Size ==0{continue ;};_eabd .reset ();_eabd ._ab =_cage ;_dfbg :=int (_eabd .Size )/int (_aegg );if int (_eabd .Size )%int (_aegg )!=0{_dfbg ++;};for _ecf :=1;_ecf < _dfbg ;_ecf ++{_cage ++;if _afe :=_a .Write (_egd ,_a .LittleEndian ,_cage );_afe !=nil {return nil ,nil ,_afe ;};};if _bfec :=_a .Write (_egd ,_a .LittleEndian ,_dcd );_bfec !=nil {return nil ,nil ,_bfec ;};_cage ++;if _ ,_abge :=_fb .Copy (_bcc ,_eabd );_abge !=nil {return nil ,nil ,_abge ;};if _afdf :=_bcc .AlignLength (64);_afdf !=nil {return nil ,nil ,_afdf ;};};if _ggef :=_egd .FillWithByte (int (_bbaea ._bfe )-_egd .Len (),_aaf );_ggef !=nil {return nil ,nil ,_ggef ;};if _ddfg :=_bcc .AlignLength (int (_bbaea ._bfe ));_ddfg !=nil {return nil ,nil ,_ddfg ;};return _egd ,_bcc ,nil ;};func (_fdbd Error )Typ ()int {return _fdbd ._gfec };func (_bdac *Reader )ID ()string {return _bdac .File [0].ID ()};func _cbd (_dbe []byte )*headerFields {_aade :=&headerFields {};_aade ._fgdf =_a .LittleEndian .Uint64 (_dbe [:8]);_aade ._ffdb =_a .LittleEndian .Uint16 (_dbe [24:26]);_aade ._abfg =_a .LittleEndian .Uint16 (_dbe [26:28]);_aade ._cag =_a .LittleEndian .Uint16 (_dbe [30:32]);_aade ._aeea =_a .LittleEndian .Uint32 (_dbe [40:44]);_aade ._gaec =_a .LittleEndian .Uint32 (_dbe [44:48]);_aade ._bde =_a .LittleEndian .Uint32 (_dbe [48:52]);_aade ._gfe =_a .LittleEndian .Uint32 (_dbe [60:64]);_aade ._cad =_a .LittleEndian .Uint32 (_dbe [64:68]);_aade ._gbf =_a .LittleEndian .Uint32 (_dbe [68:72]);_aade ._dbd =_a .LittleEndian .Uint32 (_dbe [72:76]);var _deg int ;for _fdb :=76;_fdb < 512;_fdb =_fdb +4{_aade ._gebb [_deg ]=_a .LittleEndian .Uint32 (_dbe [_fdb :_fdb +4]);_deg ++;};return _aade ;};func (_ecd *File )mode ()_ce .FileMode {if _ecd ._gd !=_gf {return _ce .ModeDir |0777;};return 0666;};func (_ba fileInfo )Mode ()_ce .FileMode {return _ba .File .mode ()};func (_dabe *Reader )findFatLocsOffset (_gff bool )int64 {var _baae uint32 ;if _gff {_baae =_dabe ._fed ._edfa [0];}else {_baae =_dabe ._fed ._cbef [0];};return _dce (_dabe ._bfe ,_baae );};type fileInfo struct{*File };func (_bba *File )FileInfo ()_ce .FileInfo {return fileInfo {_bba }};func (_eeeb *Reader )getOffset (_adg uint32 ,_fccc bool )(int64 ,error ){if _fccc {_afc :=_eeeb ._bfe /64;_abb :=int (_adg /_afc );if _abb >=len (_eeeb ._fed ._fdbg ){return 0,Error {ErrRead ,"\u006di\u006e\u0069s\u0065\u0063\u0074o\u0072\u0020\u006e\u0075\u006d\u0062\u0065r\u0020\u0069\u0073\u0020\u006f\u0075t\u0073\u0069\u0064\u0065\u0020\u006d\u0069\u006e\u0069\u0073\u0065c\u0074\u006f\u0072\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_abb )};};_agc :=_adg %_afc ;return int64 ((_eeeb ._fed ._fdbg [_abb ]+1)*_eeeb ._bfe +_agc *64),nil ;};return _dce (_eeeb ._bfe ,_adg ),nil ;};const (_d uint8 =0x0;_cc uint8 =0x1;);type directoryEntryFields struct{_ef [32]uint16 ;_gg uint16 ;_gd uint8 ;_ea uint8 ;_ec uint32 ;_eb uint32 ;_ga uint32 ;_cf _b .Guid ;_cbb [4]byte ;_gdg _b .FileTime ;_fae _b .FileTime ;_ab uint32 ;_ee [8]byte ;};func (_gaef *Reader )setMiniStream ()error {if _gaef ._ddb [0]._ab ==_dcd ||_gaef ._fed ._gfe ==_dcd ||_gaef ._fed ._cad ==0{return nil ;};_cd :=int (_gaef ._fed ._cad );_gaef ._fed ._edfa =make ([]uint32 ,_cd );_gaef ._fed ._edfa [0]=_gaef ._fed ._gfe ;for _gbg :=1;_gbg < _cd ;_gbg ++{_ffaa ,_gcfg :=_gaef .findNext (_gaef ._fed ._edfa [_gbg -1],false );if _gcfg !=nil {return Error {ErrFormat ,"s\u0065\u0074\u0074\u0069ng\u0020m\u0069\u006e\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u0028"+_gcfg .Error ()+"\u0029",int64 (_gaef ._fed ._edfa [_gbg -1])};};_gaef ._fed ._edfa [_gbg ]=_ffaa ;};_cd =int (_gaef ._bfe /4*_gaef ._fed ._cad );_gaef ._fed ._fdbg =make ([]uint32 ,0,_cd );_bda :=_gaef ._ddb [0]._ab ;var _bce error ;for _bda !=_dcd {_gaef ._fed ._fdbg =append (_gaef ._fed ._fdbg ,_bda );_bda ,_bce =_gaef .findNext (_bda ,false );if _bce !=nil {return Error {ErrFormat ,"s\u0065\u0074\u0074\u0069ng\u0020m\u0069\u006e\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u0028"+_bce .Error ()+"\u0029",int64 (_bda )};};};return nil ;};func (_cgcd *Reader )Modified ()_ge .Time {return _cgcd .File [0].Modified ()};func (_fcbf *Reader )Export ()([]byte ,error ){_fdef :=_fd .NewWriter ();if _gea :=_fcbf .exportHeader (_fdef );_gea !=nil {return nil ,_gea ;};if _gec :=_fdef .FillWithByte (512,_aaf );_gec !=nil {return nil ,_gec ;};_gac :=[]uint32 {};if _efgg :=_fcbf .exportDifats (_fdef );_efgg !=nil {return nil ,_efgg ;};_ffee ,_dega ,_ddac :=_fcbf .exportMiniStream ();if _ddac !=nil {return nil ,_ddac ;};_gac =append (_gac ,uint32 (_fdef .Len ())/_fcbf ._bfe );if _bceg :=_fcbf .exportDirEntries (_fdef );_bceg !=nil {return nil ,_bceg ;};_gac =append (_gac ,uint32 (_fdef .Len ())/_fcbf ._bfe );if _ ,_dee :=_ffee .WriteTo (_fdef );_dee !=nil {return nil ,_dee ;};_gac =append (_gac ,uint32 (_fdef .Len ())/_fcbf ._bfe );if _ ,_fea :=_dega .WriteTo (_fdef );_fea !=nil {return nil ,_fea ;};_gac =append (_gac ,uint32 (_fdef .Len ())/_fcbf ._bfe );if _fcg :=_fcbf .exportFAT (_fdef ,_gac );_fcg !=nil {return nil ,_fcg ;};return _fdef .Bytes (),nil ;};