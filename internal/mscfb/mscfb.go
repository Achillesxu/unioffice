//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package mscfb ;import (_g "bytes";_d "encoding/binary";_ea "fmt";_ef "github.com/richardlehane/msoleps/types";_f "github.com/unidoc/unioffice/internal/mscfb/rw";_bfg "io";_c "os";_e "strconv";_bce "time";_bf "unicode";_bc "unicode/utf16";);func (_afcd *Reader )setMiniStream ()error {if _afcd ._bac [0]._ff ==_bbf ||_afcd ._dgc ._eabc ==_bbf ||_afcd ._dgc ._geb ==0{return nil ;
};_dca :=int (_afcd ._dgc ._geb );_afcd ._dgc ._egcc =make ([]uint32 ,_dca );_afcd ._dgc ._egcc [0]=_afcd ._dgc ._eabc ;for _ddde :=1;_ddde < _dca ;_ddde ++{_agb ,_abf :=_afcd .findNext (_afcd ._dgc ._egcc [_ddde -1],false );if _abf !=nil {return Error {ErrFormat ,"s\u0065\u0074\u0074\u0069ng\u0020m\u0069\u006e\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u0028"+_abf .Error ()+"\u0029",int64 (_afcd ._dgc ._egcc [_ddde -1])};
};_afcd ._dgc ._egcc [_ddde ]=_agb ;};_dca =int (_afcd ._fac /4*_afcd ._dgc ._geb );_afcd ._dgc ._eaef =make ([]uint32 ,0,_dca );_bdbg :=_afcd ._bac [0]._ff ;var _bbab error ;for _bdbg !=_bbf {_afcd ._dgc ._eaef =append (_afcd ._dgc ._eaef ,_bdbg );_bdbg ,_bbab =_afcd .findNext (_bdbg ,false );
if _bbab !=nil {return Error {ErrFormat ,"s\u0065\u0074\u0074\u0069ng\u0020m\u0069\u006e\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u0028"+_bbab .Error ()+"\u0029",int64 (_bdbg )};};};return nil ;};func (_dcae *Reader )findNextFreeSector (_dcc bool )(uint32 ,error ){_ebe :=_dcae .findFatLocsOffset (_dcc );
_cedf :=uint32 (0);_bgfa :=_dcae ._fac /4;for {_gccc ,_dbg :=_dcae .readAt (_ebe ,4);if _dbg !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_dbg .Error ()+"\u0029",_ebe };
};_eda :=_d .LittleEndian .Uint32 (_gccc );if _eda ==_bbe {break ;};if _cedf >=_bgfa {return 0,Error {ErrRead ,"\u0065\u006e\u0064\u0020of\u0020\u006d\u0069\u006e\u0069\u0046\u0061\u0074\u0020\u0072\u0065\u0061\u0063\u0068e\u0064",_ebe };};_cedf ++;_ebe +=4;
};return _cedf ,nil ;};func (_cdb *File )SetEntryContent (b []byte )error {if _aeed :=_cdb .ensureWriterAt ();_aeed !=nil {return _aeed ;};_cdb .reset ();if _cfgb :=_cdb .changeSize (int64 (len (b )));_cfgb !=nil {return _cfgb ;};_ ,_ecg :=_cdb .Write (b );
return _ecg ;};func _fe (_ba *File ){if _ba ._ge < 4||_ba ._ge > 64{return ;};_bfe :=int (_ba ._ge /2-1);_ba .Initial =_ba ._ac [0];var _cfc int ;if !_bf .IsPrint (rune (_ba .Initial )){_cfc =1;};_ba .Name =string (_bc .Decode (_ba ._ac [_cfc :_bfe ]));
};const (_a uint8 =0x0;_gd uint8 =0x1;);func (_fcd *File )Write (b []byte )(int ,error ){if _fcd .Size < 1||_fcd ._ggdd >=_fcd .Size {return 0,_bfg .EOF ;};if _adc :=_fcd .ensureWriterAt ();_adc !=nil {return 0,_adc ;};_bff :=len (b );if int64 (_bff )> _fcd .Size -_fcd ._ggdd {_bff =int (_fcd .Size -_fcd ._ggdd );
};_fca ,_dg :=_fcd .stream (_bff );if _dg !=nil {return 0,_dg ;};var _edd ,_aa int ;for _ ,_aaf :=range _fca {_fa :=_edd +int (_aaf [1]);if _fa < _edd ||_fa > _bff {return 0,Error {ErrWrite ,"\u0062\u0061d\u0020\u0077\u0072i\u0074\u0065\u0020\u006c\u0065\u006e\u0067\u0074\u0068",int64 (_fa )};
};_aeb ,_bgb :=_fcd ._abd ._ffdf .WriteAt (b [_edd :_fa ],_aaf [0]);_aa =_aa +_aeb ;if _bgb !=nil {_fcd ._ggdd +=int64 (_aa );return _aa ,Error {ErrWrite ,"\u0075n\u0064\u0065\u0072\u006c\u0079\u0069\u006e\u0067\u0020\u0077\u0072i\u0074\u0065\u0072\u0020\u0066\u0061\u0069\u006c\u0020\u0028"+_bgb .Error ()+"\u0029",int64 (_edd )};
};_edd =_fa ;};_fcd ._ggdd +=int64 (_aa );if _aa !=_bff {_dg =Error {ErrWrite ,"\u0062\u0079t\u0065\u0073\u0020\u0077\u0072\u0069\u0074\u0074\u0065\u006e\u0020\u0064\u006f\u0020\u006e\u006f\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0077\u0072\u0069\u0074\u0065\u0020\u0073\u0069\u007a\u0065",int64 (_aa )};
}else if _aa < len (b ){_dg =_bfg .EOF ;};return _aa ,_dg ;};func (_aeec fileInfo )Size ()int64 {if _aeec ._ec !=_cf {return 0;};return _aeec .File .Size ;};type headerFields struct{_gegf uint64 ;_ [16]byte ;_gfae uint16 ;_dabg uint16 ;_ [2]byte ;_aef uint16 ;
_ [2]byte ;_ [6]byte ;_fef uint32 ;_cbc uint32 ;_eca uint32 ;_ [4]byte ;_ [4]byte ;_eabc uint32 ;_geb uint32 ;_aefc uint32 ;_cda uint32 ;_ffb [109]uint32 ;};func (_gca *Reader )readAt (_bfead int64 ,_dcea int )([]byte ,error ){if _gca ._ccad {_bge ,_cab :=_gca ._fgg .(slicer ).Slice (_bfead ,_dcea );
if _cab !=nil {return nil ,Error {ErrRead ,"\u0073\u006c\u0069\u0063er\u0020\u0072\u0065\u0061\u0064\u0020\u0065\u0072\u0072\u006f\u0072\u0020\u0028"+_cab .Error ()+"\u0029",_bfead };};return _bge ,nil ;};if _dcea > len (_gca ._bgbc ){return nil ,Error {ErrRead ,"\u0072\u0065ad\u0020\u006c\u0065n\u0067\u0074\u0068\u0020gre\u0061te\u0072\u0020\u0074\u0068\u0061\u006e\u0020re\u0061\u0064\u0020\u0062\u0075\u0066\u0066e\u0072",int64 (_dcea )};
};if _ ,_fee :=_gca ._fgg .ReadAt (_gca ._bgbc [:_dcea ],_bfead );_fee !=nil {return nil ,Error {ErrRead ,_fee .Error (),_bfead };};return _gca ._bgbc [:_dcea ],nil ;};func (_fcg *File )Seek (offset int64 ,whence int )(int64 ,error ){var _baa int64 ;switch whence {default:return 0,Error {ErrSeek ,"\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0077h\u0065\u006e\u0063\u0065",int64 (whence )};
case 0:_baa =offset ;case 1:_baa =_fcg ._ggdd +offset ;case 2:_baa =_fcg .Size -offset ;};switch {case _baa < 0:return _fcg ._ggdd ,Error {ErrSeek ,"\u0063\u0061\u006e'\u0074\u0020\u0073\u0065e\u006b\u0020\u0062\u0065\u0066\u006f\u0072e\u0020\u0073\u0074\u0061\u0072\u0074\u0020\u006f\u0066\u0020\u0046\u0069\u006c\u0065",_baa };
case _baa >=_fcg .Size :return _fcg ._ggdd ,Error {ErrSeek ,"c\u0061\u006e\u0027\u0074\u0020\u0073e\u0065\u006b\u0020\u0070\u0061\u0073\u0074\u0020\u0046i\u006c\u0065\u0020l\u0065n\u0067\u0074\u0068",_baa };case _baa ==_fcg ._ggdd :return _baa ,nil ;case _baa > _fcg ._ggdd :_dfcf :=_fcg ._ggdd ;
_fcg ._ggdd =_baa ;return _fcg ._ggdd ,_fcg .seek (_baa -_dfcf );};if _fcg ._fgc >=_fcg ._ggdd -_baa {_fcg ._fgc =_fcg ._fgc -(_fcg ._ggdd -_baa );_fcg ._ggdd =_baa ;return _fcg ._ggdd ,nil ;};_fcg ._fgc =0;_fcg ._ade =_fcg ._ff ;_fcg ._ggdd =_baa ;return _fcg ._ggdd ,_fcg .seek (_baa );
};func _gag (_gfe ,_bdca uint32 )int64 {return int64 ((_bdca +1)*_gfe )};type fileInfo struct{*File };func _bb (_dc []byte )*directoryEntryFields {_da :=&directoryEntryFields {};for _dd :=range _da ._ac {_da ._ac [_dd ]=_d .LittleEndian .Uint16 (_dc [_dd *2:_dd *2+2]);
};_da ._ge =_d .LittleEndian .Uint16 (_dc [64:66]);_da ._ec =uint8 (_dc [66]);_da ._eae =uint8 (_dc [67]);_da ._cfd =_d .LittleEndian .Uint32 (_dc [68:72]);_da ._cc =_d .LittleEndian .Uint32 (_dc [72:76]);_da ._gdc =_d .LittleEndian .Uint32 (_dc [76:80]);
_da ._fg =_ef .MustGuid (_dc [80:96]);copy (_da ._ae [:],_dc [96:100]);_da ._cg =_ef .MustFileTime (_dc [100:108]);_da ._efe =_ef .MustFileTime (_dc [108:116]);_da ._ff =_d .LittleEndian .Uint32 (_dc [116:120]);copy (_da ._ed [:],_dc [120:128]);return _da ;
};func (_ddb *File )Created ()_bce .Time {return _ddb ._cg .Time ()};func (_cfdb *File )changeSize (_bad int64 )error {if _bad ==_cfdb .Size {return nil ;};var _ace *File ;for _ ,_dfc :=range _cfdb ._abd ._bac {if _dfc .Name ==_cfdb .Name {_ace =_dfc ;
break ;};};if _ace ==nil {return _ea .Errorf ("\u004e\u006f\u0020\u0064\u0069\u0072e\u0063\u0074\u006f\u0072\u0079\u0020\u0065\u006e\u0074\u0072\u0079\u0020\u0066o\u0072\u0020\u0061\u0020\u0066\u0069\u006ce\u003a\u0020\u0025\u0073",_cfdb .Name );};_gec :=_g .NewBuffer ([]byte {});
if _eag :=_d .Write (_gec ,_d .LittleEndian ,_bad );_eag !=nil {return _eag ;};for _edg ,_faa :=range _gec .Bytes (){_ace ._ed [_edg ]=_faa ;};var _acea int64 ;var _abg bool ;if _cfdb .Size < _gcb {_abg =true ;_acea =int64 (_ffe );}else {_acea =int64 (_cfdb ._abd ._fac );
};_ga :=int ((_cfdb .Size -1)/_acea )+1;_cdf :=int ((_bad -1)/_acea )+1;if _ga < _cdf {_bde ,_fec :=_cfdb .findLast (_abg );if _fec !=nil {return _fec ;};_bdb ,_fec :=_cfdb ._abd .findNextFreeSector (_abg );if _fec !=nil {return _fec ;};for _cb :=_cdf -_ga ;
_cb > 0;_cb --{if _dba :=_cfdb ._abd .saveToFatLocs (_bde ,_bdb ,_abg );_dba !=nil {return _dba ;};if _cb > 1{_bde =_bdb ;_bdb ++;}else if _bdfd :=_cfdb ._abd .saveToFatLocs (_bdb ,_bbf ,_abg );_bdfd !=nil {return _bdfd ;};};}else if _ga > _cdf {_gcf :=_cfdb ._ff ;
var _ece error ;for _eaea :=0;_eaea < _cdf -1;_eaea ++{_gcf ,_ece =_cfdb ._abd .findNext (_gcf ,_abg );if _ece !=nil {return _ece ;};};if _edgc :=_cfdb ._abd .saveToFatLocs (_gcf ,_bbf ,_abg );_edgc !=nil {return _edgc ;};};_cfdb .Size =_bad ;return nil ;
};type Error struct{_bfba int ;_gcbc string ;_bdfe int64 ;};func (_gae *Reader )Created ()_bce .Time {return _gae .File [0].Created ()};func (_bab fileInfo )Sys ()interface{}{return nil };func (_efd *Reader )saveToFatLocs (_dcabc uint32 ,_afgd interface{},_bfde bool )error {_cdcc :=_g .NewBuffer ([]byte {});
if _fgaf :=_d .Write (_cdcc ,_d .LittleEndian ,_afgd );_fgaf !=nil {return _fgaf ;};_gfg :=_efd .findFatLocsOffset (_bfde )+int64 (_dcabc *4);_ ,_bcd :=_efd ._ffdf .WriteAt (_cdcc .Bytes (),_gfg );return _bcd ;};const _cfg int =64+4*4+16+4+8*2+4+8;type directoryEntryFields struct{_ac [32]uint16 ;
_ge uint16 ;_ec uint8 ;_eae uint8 ;_cfd uint32 ;_cc uint32 ;_gdc uint32 ;_fg _ef .Guid ;_ae [4]byte ;_cg _ef .FileTime ;_efe _ef .FileTime ;_ff uint32 ;_ed [8]byte ;};func (_bcfc *File )seek (_agf int64 )error {var _eeb bool ;var _edgcd int64 ;if _bcfc .Size < _gcb {_eeb =true ;
_edgcd =64;}else {_edgcd =int64 (_bcfc ._abd ._fac );};var _bgbd int64 ;var _feg error ;if _bcfc ._fgc > 0{if _edgcd -_bcfc ._fgc <=_agf {_bcfc ._ade ,_feg =_bcfc ._abd .findNext (_bcfc ._ade ,_eeb );if _feg !=nil {return _feg ;};_bgbd +=_edgcd -_bcfc ._fgc ;
_bcfc ._fgc =0;if _bgbd ==_agf {return nil ;};}else {_bcfc ._fgc +=_agf ;return nil ;};if _bcfc ._ade ==_bbf {return Error {ErrRead ,"\u0075\u006ee\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0061\u0072\u006c\u0079\u0020\u0065\u006e\u0064\u0020\u006f\u0066\u0020\u0063ha\u0069\u006e",int64 (_bcfc ._ade )};
};};for {if _agf -_bgbd < _edgcd {_bcfc ._fgc =_agf -_bgbd ;return nil ;}else {_bgbd +=_edgcd ;_bcfc ._ade ,_feg =_bcfc ._abd .findNext (_bcfc ._ade ,_eeb );if _feg !=nil {return _feg ;};if _bgbd ==_agf {return nil ;};};};};func _cgdb (_fegd []byte )*headerFields {_bfb :=&headerFields {};
_bfb ._gegf =_d .LittleEndian .Uint64 (_fegd [:8]);_bfb ._gfae =_d .LittleEndian .Uint16 (_fegd [24:26]);_bfb ._dabg =_d .LittleEndian .Uint16 (_fegd [26:28]);_bfb ._aef =_d .LittleEndian .Uint16 (_fegd [30:32]);_bfb ._fef =_d .LittleEndian .Uint32 (_fegd [40:44]);
_bfb ._cbc =_d .LittleEndian .Uint32 (_fegd [44:48]);_bfb ._eca =_d .LittleEndian .Uint32 (_fegd [48:52]);_bfb ._eabc =_d .LittleEndian .Uint32 (_fegd [60:64]);_bfb ._geb =_d .LittleEndian .Uint32 (_fegd [64:68]);_bfb ._aefc =_d .LittleEndian .Uint32 (_fegd [68:72]);
_bfb ._cda =_d .LittleEndian .Uint32 (_fegd [72:76]);var _fdd int ;for _afd :=76;_afd < 512;_afd =_afd +4{_bfb ._ffb [_fdd ]=_d .LittleEndian .Uint32 (_fegd [_afd :_afd +4]);_fdd ++;};return _bfb ;};func (_bbb *File )Read (b []byte )(int ,error ){if _bbb .Size < 1||_bbb ._ggdd >=_bbb .Size {return 0,_bfg .EOF ;
};_gdg :=len (b );if int64 (_gdg )> _bbb .Size -_bbb ._ggdd {_gdg =int (_bbb .Size -_bbb ._ggdd );};_fc ,_daf :=_bbb .stream (_gdg );if _daf !=nil {return 0,_daf ;};var _agg ,_fcf int ;for _ ,_af :=range _fc {_eega :=_agg +int (_af [1]);if _eega < _agg ||_eega > _gdg {return 0,Error {ErrRead ,"\u0062a\u0064 \u0072\u0065\u0061\u0064\u0020\u006c\u0065\u006e\u0067\u0074\u0068",int64 (_eega )};
};_eab ,_ffd :=_bbb ._abd ._fgg .ReadAt (b [_agg :_eega ],_af [0]);_fcf =_fcf +_eab ;if _ffd !=nil {_bbb ._ggdd +=int64 (_fcf );return _fcf ,Error {ErrRead ,"\u0075n\u0064\u0065\u0072\u006c\u0079\u0069\u006e\u0067\u0020\u0072\u0065a\u0064\u0065\u0072\u0020\u0066\u0061\u0069\u006c\u0020\u0028"+_ffd .Error ()+"\u0029",int64 (_agg )};
};_agg =_eega ;};_bbb ._ggdd +=int64 (_fcf );if _fcf !=_gdg {_daf =Error {ErrRead ,"\u0062\u0079\u0074e\u0073\u0020\u0072\u0065\u0061\u0064\u0020\u0064\u006f\u0020\u006e\u006f\u0074\u0020\u006d\u0061\u0074\u0063\u0068\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020r\u0065\u0061\u0064\u0020\u0073\u0069\u007a\u0065",int64 (_fcf )};
}else if _fcf < len (b ){_daf =_bfg .EOF ;};return _fcf ,_daf ;};func (_abe *Reader )findFatLocsOffset (_ccf bool )int64 {var _ecbf uint32 ;if _ccf {_ecbf =_abe ._dgc ._egcc [0];}else {_ecbf =_abe ._dgc ._ebf [0];};return _gag (_abe ._fac ,_ecbf );};func (_ccb *Reader )findNext (_fad uint32 ,_bgd bool )(uint32 ,error ){_dbd :=_ccb ._fac /4;
_gde :=int (_fad /_dbd );var _cgf uint32 ;if _bgd {if _gde < 0||_gde >=len (_ccb ._dgc ._egcc ){return 0,Error {ErrRead ,"\u006d\u0069\u006e\u0069\u0073e\u0063\u0074\u006f\u0072\u0020\u0069\u006e\u0064\u0065\u0078\u0020\u0069\u0073 \u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u006d\u0069\u006e\u0069\u0046\u0041\u0054\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_gde )};
};_cgf =_ccb ._dgc ._egcc [_gde ];}else {if _gde < 0||_gde >=len (_ccb ._dgc ._ebf ){return 0,Error {ErrRead ,"\u0046\u0041\u0054\u0020\u0069\u006e\u0064\u0065\u0078\u0020\u0069\u0073\u0020\u006f\u0075t\u0073i\u0064\u0065\u0020\u0044\u0049\u0046\u0041\u0054\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_gde )};
};_cgf =_ccb ._dgc ._ebf [_gde ];};_dfgc :=_fad %_dbd ;_fece :=_gag (_ccb ._fac ,_cgf )+int64 (_dfgc *4);_dceag ,_gagg :=_ccb .readAt (_fece ,4);if _gagg !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_gagg .Error ()+"\u0029",_fece };
};_bcbdc :=_d .LittleEndian .Uint32 (_dceag );return _bcbdc ,nil ;};func (_bdf fileInfo )ModTime ()_bce .Time {return _bdf .Modified ()};type Reader struct{_ccad bool ;_fac uint32 ;_bgbc []byte ;_dgc *header ;File []*File ;_bac []*File ;_efa int ;_fgg _bfg .ReaderAt ;
_ffdf _bfg .WriterAt ;};func (_gbg *Reader )Debug ()map[string ][]uint32 {_afcef :=map[string ][]uint32 {"s\u0065\u0063\u0074\u006f\u0072\u0020\u0073\u0069\u007a\u0065":[]uint32 {_gbg ._fac },"\u006d\u0069\u006e\u0069\u0020\u0066\u0061\u0074\u0020\u006c\u006f\u0063\u0073":_gbg ._dgc ._egcc ,"\u006d\u0069n\u0069\u0020\u0073t\u0072\u0065\u0061\u006d\u0020\u006c\u006f\u0063\u0073":_gbg ._dgc ._eaef ,"\u0064\u0069r\u0065\u0063\u0074o\u0072\u0079\u0020\u0073\u0065\u0063\u0074\u006f\u0072":[]uint32 {_gbg ._dgc ._eca },"\u006d\u0069\u006e\u0069 s\u0074\u0072\u0065\u0061\u006d\u0020\u0073\u0074\u0061\u0072\u0074\u002f\u0073\u0069z\u0065":[]uint32 {_gbg .File [0]._ff ,_d .LittleEndian .Uint32 (_gbg .File [0]._ed [:])}};
for _dcf ,_cbf :=_gbg .Next ();_cbf ==nil ;_dcf ,_cbf =_gbg .Next (){_afcef [_dcf .Name +" \u0073\u0074\u0061\u0072\u0074\u002f\u0073\u0069\u007a\u0065"]=[]uint32 {_dcf ._ff ,_d .LittleEndian .Uint32 (_dcf ._ed [:])};};return _afcef ;};func (_cea *File )stream (_ebag int )([][2]int64 ,error ){var _bbg bool ;
var _fecb int ;var _be int64 ;if _cea .Size < _gcb {_bbg =true ;_fecb =_ebag /int (_ffe )+2;_be =int64 (_ffe );}else {_fecb =_ebag /int (_cea ._abd ._fac )+2;_be =int64 (_cea ._abd ._fac );};_adf :=make ([][2]int64 ,0,_fecb );var _ca ,_abda int ;if _cea ._fgc > 0{_gga ,_gf :=_cea ._abd .getOffset (_cea ._ade ,_bbg );
if _gf !=nil {return nil ,_gf ;};if _be -_cea ._fgc >=int64 (_ebag ){_adf =append (_adf ,[2]int64 {_gga +_cea ._fgc ,int64 (_ebag )});}else {_adf =append (_adf ,[2]int64 {_gga +_cea ._fgc ,_be -_cea ._fgc });};if _be -_cea ._fgc <=int64 (_ebag ){_cea ._ade ,_gf =_cea ._abd .findNext (_cea ._ade ,_bbg );
if _gf !=nil {return nil ,_gf ;};_abda +=int (_be -_cea ._fgc );_cea ._fgc =0;}else {_cea ._fgc +=int64 (_ebag );};if _adf [0][1]==int64 (_ebag ){return _adf ,nil ;};if _cea ._ade ==_bbf {return nil ,Error {ErrRead ,"\u0075\u006ee\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0065\u0061\u0072\u006c\u0079\u0020\u0065\u006e\u0064\u0020\u006f\u0066\u0020\u0063ha\u0069\u006e",int64 (_cea ._ade )};
};_ca ++;};for {if _ca >=cap (_adf ){return nil ,Error {ErrRead ,"\u0069\u006e\u0064\u0065x\u0020\u006f\u0076\u0065\u0072\u0072\u0075\u006e\u0073\u0020s\u0065c\u0074\u006f\u0072\u0020\u006c\u0065\u006eg\u0074\u0068",int64 (_ca )};};_eg ,_bbc :=_cea ._abd .getOffset (_cea ._ade ,_bbg );
if _bbc !=nil {return nil ,_bbc ;};if _ebag -_abda < int (_be ){_adf =append (_adf ,[2]int64 {_eg ,int64 (_ebag -_abda )});_cea ._fgc =int64 (_ebag -_abda );return _ecgg (_adf ),nil ;}else {_adf =append (_adf ,[2]int64 {_eg ,_be });_abda +=int (_be );_cea ._ade ,_bbc =_cea ._abd .findNext (_cea ._ade ,_bbg );
if _bbc !=nil {return nil ,_bbc ;};if _abda ==_ebag {return _ecgg (_adf ),nil ;};};_ca ++;};};const (ErrFormat =iota ;ErrRead ;ErrSeek ;ErrWrite ;ErrTraverse ;);func (_cd *File )ID ()string {return _cd ._fg .String ()};func (_fbe fileInfo )IsDir ()bool {return _fbe .mode ().IsDir ()};
const (_aca uint64 =0xE11AB1A1E011CFD0;_ffe uint32 =64;_gcb int64 =4096;_afc uint32 =128;);func (_fbaaa *Reader )ID ()string {return _fbaaa .File [0].ID ()};func (_afce *Reader )Next ()(*File ,error ){_afce ._efa ++;if _afce ._efa >=len (_afce .File ){return nil ,_bfg .EOF ;
};return _afce .File [_afce ._efa ],nil ;};func (_cca *File )mode ()_c .FileMode {if _cca ._ec !=_cf {return _c .ModeDir |0777;};return 0666;};func (_fea *File )Modified ()_bce .Time {return _fea ._efe .Time ()};func (_gb *File )ensureWriterAt ()error {if _gb ._abd ._ffdf ==nil {_cdg ,_gcg :=_gb ._abd ._fgg .(_bfg .WriterAt );
if !_gcg {return Error {ErrWrite ,"\u006d\u0073\u0063\u0066\u0062\u002e\u004ee\u0077\u0020\u006d\u0075\u0073\u0074\u0020\u0062\u0065\u0020\u0067\u0069\u0076\u0065n\u0020R\u0065\u0061\u0064\u0065\u0072\u0041t\u0020\u0063\u006f\u006e\u0076\u0065\u0072t\u0069\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0061\u0020\u0069\u006f\u002e\u0057\u0072\u0069\u0074\u0065\u0072\u0041\u0074\u0020\u0069n\u0020\u006f\u0072\u0064\u0065\u0072\u0020\u0074\u006f\u0020\u0077\u0072\u0069t\u0065",0};
};_gb ._abd ._ffdf =_cdg ;};return nil ;};type header struct{*headerFields ;_ebf []uint32 ;_egcc []uint32 ;_eaef []uint32 ;};func (_ddd *File )WriteAt (p []byte ,off int64 )(_bcb int ,_cbb error ){_fgb ,_daff ,_cfa :=_ddd ._ggdd ,_ddd ._fgc ,_ddd ._ade ;
_ ,_cbb =_ddd .Seek (off ,0);if _cbb ==nil {_bcb ,_cbb =_ddd .Write (p );};_ddd ._ggdd ,_ddd ._fgc ,_ddd ._ade =_fgb ,_daff ,_cfa ;return _bcb ,_cbb ;};func (_fcga *Reader )exportDifats (_eaa *_f .Writer )error {if _fcga ._dgc ._cda ==0{return nil ;};return nil ;
};func New (ra _bfg .ReaderAt )(*Reader ,error ){_facb :=&Reader {_fgg :ra };if _ ,_fecf :=ra .(slicer );_fecf {_facb ._ccad =true ;}else {_facb ._bgbc =make ([]byte ,_fbfd );};if _dee :=_facb .setHeader ();_dee !=nil {return nil ,_dee ;};if !_facb ._ccad &&int (_facb ._fac )> len (_facb ._bgbc ){_facb ._bgbc =make ([]byte ,_facb ._fac );
};if _bfbg :=_facb .setDifats ();_bfbg !=nil {return nil ,_bfbg ;};if _eege :=_facb .setDirEntries ();_eege !=nil {return nil ,_eege ;};if _gbb :=_facb .setMiniStream ();_gbb !=nil {return nil ,_gbb ;};if _aec :=_facb .traverse ();_aec !=nil {return nil ,_aec ;
};return _facb ,nil ;};func (_bfa *File )findLast (_aebb bool )(uint32 ,error ){_fce :=_bfa ._ff ;for {_dfcb ,_ebb :=_bfa ._abd .findNext (_fce ,_aebb );if _ebb !=nil {return 0,Error {ErrRead ,"\u0062\u0061\u0064\u0020\u0072\u0065\u0061\u0064\u0020\u0066i\u006e\u0064\u0069\u006e\u0067\u0020\u006ee\u0078\u0074\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0028"+_ebb .Error ()+"\u0029",0};
};if _dfcb ==_bbf {break ;};_fce =_dfcb ;};return _fce ,nil ;};func (_feb *Reader )exportDirEntries (_caa *_f .Writer )error {if int64 (_caa .Len ())!=_gag (_feb ._fac ,_feb ._dgc ._eca ){return Error {ErrWrite ,_ea .Sprintf ("I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u0077\u0072\u0069\u0074\u0065\u0072\u0020l\u0065\u006e\u0067t\u0068:\u0020\u0025\u0076",_caa .Len ()),0};
};for _ ,_eef :=range _feb ._bac {_fcdb ,_fbf :=_bba (_eef .directoryEntryFields );if _fbf !=nil {return _fbf ;};if _ ,_gcd :=_bfg .Copy (_caa ,_fcdb );_gcd !=nil {return _gcd ;};};return nil ;};func (_geeg Error )Error ()string {return "\u006ds\u0063\u0066\u0062\u003a\u0020"+_geeg ._gcbc +"\u003b\u0020"+_e .FormatInt (_geeg ._bdfe ,10);
};func (_cde Error )Typ ()int {return _cde ._bfba };func (_ad *Reader )setDirEntries ()error {_ce :=20;if _ad ._dgc ._fef > 0{_ce =int (_ad ._dgc ._fef );};_fga :=make ([]*File ,0,_ce );_fd :=make (map[uint32 ]bool );_df :=int (_ad ._fac /_afc );_eff :=_ad ._dgc ._eca ;
for _eff !=_bbf {_bg ,_ggf :=_ad .readAt (_gag (_ad ._fac ,_eff ),int (_ad ._fac ));if _ggf !=nil {return Error {ErrRead ,"\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020e\u006e\u0074\u0072\u0069\u0065\u0073\u0020r\u0065\u0061\u0064\u0020\u0065\u0072\u0072\u006f\u0072\u0020\u0028"+_ggf .Error ()+"\u0029",_gag (_ad ._fac ,_eff )};
};for _ag :=0;_ag < _df ;_ag ++{_efg :=&File {_abd :_ad };_efg .directoryEntryFields =_bb (_bg [_ag *int (_afc ):]);_acf (_ad ._dgc ._dabg ,_efg );_efg ._ade =_efg ._ff ;_fga =append (_fga ,_efg );};_ee ,_ggf :=_ad .findNext (_eff ,false );if _ggf !=nil {return Error {ErrRead ,"d\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020\u0065\u006e\u0074\u0072\u0069\u0065\u0073\u0020\u0065r\u0072\u006f\u0072\u0020\u0066\u0069\u006e\u0064\u0069\u006eg \u0073\u0065\u0063t\u006fr\u0020\u0028"+_ggf .Error ()+"\u0029",int64 (_ee )};
};if _ee <=_eff {if _ee ==_eff ||_fd [_ee ]{return Error {ErrRead ,"\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020e\u006e\u0074\u0072\u0069\u0065\u0073\u0020s\u0065\u0063\u0074\u006f\u0072\u0020\u0063\u0079\u0063\u006c\u0065",int64 (_ee )};
};_fd [_ee ]=true ;};_eff =_ee ;};_ad ._bac =_fga ;return nil ;};func _ecgg (_cgd [][2]int64 )[][2]int64 {_dce :=len (_cgd );for _acd ,_gfa :=0,0;_acd < _dce &&_gfa +1< len (_cgd );_acd ++{if _cgd [_gfa ][0]+_cgd [_gfa ][1]==_cgd [_gfa +1][0]{_cgd [_gfa ][1]=_cgd [_gfa ][1]+_cgd [_gfa +1][1];
for _dff :=range _cgd [_gfa +1:len (_cgd )-1]{_cgd [_gfa +1+_dff ]=_cgd [_dff +_gfa +2];};_cgd =_cgd [:len (_cgd )-1];}else {_gfa +=1;};};return _cgd ;};func (_fgf *Reader )exportFAT (_bda *_f .Writer ,_cgg []uint32 )error {if _fgf ._dgc ._cbc ==0{return nil ;
};_ebff :=_g .NewBuffer ([]byte {});if _ccc :=_d .Write (_ebff ,_d .LittleEndian ,_ada );_ccc !=nil {return _ccc ;};for _fadc :=0;_fadc < len (_cgg )-1;_fadc ++{for _gcab :=_cgg [_fadc ];_gcab < _cgg [_fadc +1]-1;_gcab ++{if _fedb :=_d .Write (_ebff ,_d .LittleEndian ,_gcab );
_fedb !=nil {return _fedb ;};};if _fae :=_d .Write (_ebff ,_d .LittleEndian ,_bbf );_fae !=nil {return _fae ;};};_gff :=512;for _ ,_dga :=range _ebff .Bytes (){if _daeg :=_bda .WriteByteAt (_dga ,_gff );_daeg !=nil {return _daeg ;};_gff ++;};return nil ;
};func (_bbfd *Reader )exportHeader (_bcc *_f .Writer )error {if _fcbe :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._gegf );_fcbe !=nil {return _fcbe ;};if _ega :=_bcc .Skip (16);_ega !=nil {return _ega ;};if _gcca :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._gfae );
_gcca !=nil {return _gcca ;};if _gdbg :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._dabg );_gdbg !=nil {return _gdbg ;};if _fag :=_d .Write (_bcc ,_d .LittleEndian ,uint16 (0xfffe));_fag !=nil {return _fag ;};if _cgcb :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._aef );
_cgcb !=nil {return _cgcb ;};if _dbaa :=_d .Write (_bcc ,_d .LittleEndian ,uint16 (0x0006));_dbaa !=nil {return _dbaa ;};if _gfaf :=_bcc .Skip (6);_gfaf !=nil {return _gfaf ;};if _ddc :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._fef );_ddc !=nil {return _ddc ;
};if _cbg :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._cbc );_cbg !=nil {return _cbg ;};if _aae :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._eca );_aae !=nil {return _aae ;};if _add :=_bcc .Skip (4);_add !=nil {return _add ;};if _bbac :=_d .Write (_bcc ,_d .LittleEndian ,uint32 (0x00001000));
_bbac !=nil {return _bbac ;};if _facc :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._eabc );_facc !=nil {return _facc ;};if _gdgd :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._geb );_gdgd !=nil {return _gdgd ;};if _fab :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._aefc );
_fab !=nil {return _fab ;};if _ede :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._cda );_ede !=nil {return _ede ;};for _baf :=0;_baf < 109;_baf ++{if _afg :=_d .Write (_bcc ,_d .LittleEndian ,&_bbfd ._dgc ._ffb [_baf ]);_afg !=nil {return _afg ;};
};return nil ;};func _bba (_agc *directoryEntryFields )(*_g .Buffer ,error ){_bcga :=_g .NewBuffer ([]byte {});for _ ,_cgc :=range _agc ._ac {if _agd :=_d .Write (_bcga ,_d .LittleEndian ,&_cgc );_agd !=nil {return nil ,_agd ;};};if _gge :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._ge );
_gge !=nil {return nil ,_gge ;};if _bdc :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._ec );_bdc !=nil {return nil ,_bdc ;};if _fcc :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._eae );_fcc !=nil {return nil ,_fcc ;};if _bcbd :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._cfd );
_bcbd !=nil {return nil ,_bcbd ;};if _acc :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._cc );_acc !=nil {return nil ,_acc ;};if _egb :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._gdc );_egb !=nil {return nil ,_egb ;};if _gee :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._fg .DataA );
_gee !=nil {return nil ,_gee ;};if _abdd :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._fg .DataB );_abdd !=nil {return nil ,_abdd ;};if _dfd :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._fg .DataC );_dfd !=nil {return nil ,_dfd ;};if _ ,_eddb :=_bcga .Write (_agc ._fg .DataD [:]);
_eddb !=nil {return nil ,_eddb ;};if _ ,_dfg :=_bcga .Write (_agc ._ae [:]);_dfg !=nil {return nil ,_dfg ;};if _ced :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._cg .Low );_ced !=nil {return nil ,_ced ;};if _fcdc :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._cg .High );
_fcdc !=nil {return nil ,_fcdc ;};if _dabb :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._efe .Low );_dabb !=nil {return nil ,_dabb ;};if _bbca :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._efe .High );_bbca !=nil {return nil ,_bbca ;};if _fbc :=_d .Write (_bcga ,_d .LittleEndian ,&_agc ._ff );
_fbc !=nil {return nil ,_fbc ;};if _ ,_eebg :=_bcga .Write (_agc ._ed [:]);_eebg !=nil {return nil ,_eebg ;};return _bcga ,nil ;};const (_gg uint8 =0x0;_fb uint8 =0x1;_cf uint8 =0x2;_eb uint8 =0x5;);func (_aeg *Reader )Modified ()_bce .Time {return _aeg .File [0].Modified ()};
type slicer interface{Slice (_cdd int64 ,_gdca int )([]byte ,error );};func (_fbag *Reader )GetEntry (entryName string )(*File ,error ){for _ccg ,_ccba :=_fbag .Next ();_ccba ==nil ;_ccg ,_ccba =_fbag .Next (){if _ccg .Name ==entryName {return _ccg ,nil ;
};};return nil ,Error {ErrTraverse ,"\u004e\u006f\u0020\u0065\u006e\u0074\u0072\u0079\u0020\u0066o\u0075\u006e\u0064\u0020\u0066\u006f\u0072 \u0067\u0069\u0076\u0065\u006e\u0020\u006e\u0061\u006d\u0065\u002e",0};};func (_gda fileInfo )Mode ()_c .FileMode {return _gda .File .mode ()};
func (_bga *Reader )getOffset (_dfda uint32 ,_fde bool )(int64 ,error ){if _fde {_eebc :=_bga ._fac /64;_beg :=int (_dfda /_eebc );if _beg >=len (_bga ._dgc ._eaef ){return 0,Error {ErrRead ,"\u006di\u006e\u0069s\u0065\u0063\u0074o\u0072\u0020\u006e\u0075\u006d\u0062\u0065r\u0020\u0069\u0073\u0020\u006f\u0075t\u0073\u0069\u0064\u0065\u0020\u006d\u0069\u006e\u0069\u0073\u0065c\u0074\u006f\u0072\u0020\u0072\u0061\u006e\u0067\u0065",int64 (_beg )};
};_bfab :=_dfda %_eebc ;return int64 ((_bga ._dgc ._eaef [_beg ]+1)*_bga ._fac +_bfab *64),nil ;};return _gag (_bga ._fac ,_dfda ),nil ;};const _fbfd int =8+16+10+6+12+8+16+109*4;func (_fcbb *Reader )setHeader ()error {_aced ,_deg :=_fcbb .readAt (0,_fbfd );
if _deg !=nil {return _deg ;};_fcbb ._dgc =&header {headerFields :_cgdb (_aced )};if _fcbb ._dgc ._gegf !=_aca {return Error {ErrFormat ,"\u0062\u0061\u0064\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065",int64 (_fcbb ._dgc ._gegf )};};if _fcbb ._dgc ._aef ==0x0009||_fcbb ._dgc ._aef ==0x000c{_fcbb ._fac =uint32 (1<<_fcbb ._dgc ._aef );
}else {return Error {ErrFormat ,"\u0069\u006c\u006c\u0065ga\u006c\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0020\u0073\u0069\u007a\u0065",int64 (_fcbb ._dgc ._aef )};};if _fcbb ._dgc ._cda > 0{_cee :=(_fcbb ._fac /4)-1;if int (_fcbb ._dgc ._cda *_cee +109)< 0{return Error {ErrFormat ,"\u0044I\u0046A\u0054\u0020\u0069\u006e\u0074 \u006f\u0076e\u0072\u0066\u006c\u006f\u0077",int64 (_fcbb ._dgc ._cda )};
};if _fcbb ._dgc ._cda *_cee +109> _fcbb ._dgc ._cbc +_cee {return Error {ErrFormat ,"\u006e\u0075\u006d\u0020\u0044\u0049\u0046\u0041\u0054\u0073 \u0065\u0078\u0063\u0065\u0065\u0064\u0073 \u0046\u0041\u0054\u0020\u0073\u0065\u0063\u0074\u006f\u0072\u0073",int64 (_fcbb ._dgc ._cda )};
};};if _fcbb ._dgc ._geb > 0{if int (_fcbb ._fac /4*_fcbb ._dgc ._geb )< 0{return Error {ErrFormat ,"m\u0069\u006e\u0069\u0020FA\u0054 \u0069\u006e\u0074\u0020\u006fv\u0065\u0072\u0066\u006c\u006f\u0077",int64 (_fcbb ._dgc ._geb )};};if _fcbb ._dgc ._geb > _fcbb ._dgc ._cbc *(_fcbb ._fac /_ffe ){return Error {ErrFormat ,"\u006e\u0075\u006d\u0020\u006d\u0069n\u0069\u0020\u0046\u0041\u0054\u0073\u0020\u0065\u0078\u0063\u0065\u0065\u0064s\u0020\u0046\u0041\u0054\u0020\u0073\u0065c\u0074\u006f\u0072\u0073",int64 (_fcbb ._dgc ._cbc )};
};};return nil ;};func (_de *Reader )GetHeader ()*header {return _de ._dgc };const (_cef uint32 =0xFFFFFFFA;_adee uint32 =0xFFFFFFFC;_ada uint32 =0xFFFFFFFD;_bbf uint32 =0xFFFFFFFE;_bbe uint32 =0xFFFFFFFF;_dddg byte =0xFF;_egc uint32 =0xFFFFFFFA;_bcff uint32 =0xFFFFFFFF;
);func (_bgf fileInfo )Name ()string {return _bgf .File .Name };func _acf (_ecb uint16 ,_eeg *File ){_fe (_eeg );if _eeg ._ec !=_cf {return ;};if _ecb > 3{_eeg .Size =int64 (_d .LittleEndian .Uint64 (_eeg ._ed [:]));}else {_eeg .Size =int64 (_d .LittleEndian .Uint32 (_eeg ._ed [:4]));
};};type File struct{Name string ;Initial uint16 ;Path []string ;Size int64 ;_ggdd int64 ;_ade uint32 ;_fgc int64 ;*directoryEntryFields ;_abd *Reader ;};func (_afcf *Reader )exportMiniStream ()(*_f .Writer ,*_f .Writer ,error ){_cbfe ,_cec :=_f .NewWriter (),_f .NewWriter ();
_bfef :=uint32 (0);for _ ,_dcg :=range _afcf .File {if _dcg .Size ==0{continue ;};_dcg .reset ();_dcg ._ff =_bfef ;_gcaa :=int (_dcg .Size )/int (_ffe );if int (_dcg .Size )%int (_ffe )!=0{_gcaa ++;};for _dfa :=1;_dfa < _gcaa ;_dfa ++{_bfef ++;if _eegd :=_d .Write (_cbfe ,_d .LittleEndian ,_bfef );
_eegd !=nil {return nil ,nil ,_eegd ;};};if _ggc :=_d .Write (_cbfe ,_d .LittleEndian ,_bbf );_ggc !=nil {return nil ,nil ,_ggc ;};_bfef ++;if _ ,_dac :=_bfg .Copy (_cec ,_dcg );_dac !=nil {return nil ,nil ,_dac ;};if _dcab :=_cec .AlignLength (64);_dcab !=nil {return nil ,nil ,_dcab ;
};};if _ffg :=_cbfe .FillWithByte (int (_afcf ._fac )-_cbfe .Len (),_dddg );_ffg !=nil {return nil ,nil ,_ffg ;};if _egad :=_cec .AlignLength (int (_afcf ._fac ));_egad !=nil {return nil ,nil ,_egad ;};return _cbfe ,_cec ,nil ;};func (_ggb *Reader )setDifats ()error {_ggb ._dgc ._ebf =_ggb ._dgc ._ffb [:];
if _ggb ._dgc ._cda ==0{return nil ;};_ceg :=(_ggb ._fac /4)-1;_dfb :=make ([]uint32 ,109,_ggb ._dgc ._cda *_ceg +109);copy (_dfb ,_ggb ._dgc ._ebf );_ggb ._dgc ._ebf =_dfb ;_beb :=_ggb ._dgc ._aefc ;for _bfd :=0;_bfd < int (_ggb ._dgc ._cda );_bfd ++{_afdc ,_dcd :=_ggb .readAt (_gag (_ggb ._fac ,_beb ),int (_ggb ._fac ));
if _dcd !=nil {return Error {ErrFormat ,"e\u0072r\u006f\u0072\u0020\u0073\u0065\u0074\u0074\u0069n\u0067\u0020\u0044\u0049FA\u0054\u0028"+_dcd .Error ()+"\u0029",int64 (_beb )};};for _bfea :=0;_bfea < int (_ceg );_bfea ++{_ggb ._dgc ._ebf =append (_ggb ._dgc ._ebf ,_d .LittleEndian .Uint32 (_afdc [_bfea *4:_bfea *4+4]));
};_beb =_d .LittleEndian .Uint32 (_afdc [len (_afdc )-4:]);};return nil ;};func (_gdb *File )reset (){_gdb ._ggdd =0;_gdb ._fgc =0;_gdb ._ade =_gdb ._ff };func (_aee *Reader )traverse ()error {_aee .File =make ([]*File ,0,len (_aee ._bac ));var (_ggd func (int ,[]string );
_bd error ;_gc int ;);_ggd =func (_ab int ,_gcc []string ){_gc ++;if _gc > len (_aee ._bac ){_bd =Error {ErrTraverse ,"\u0074\u0072\u0061\u0076\u0065\u0072\u0073\u0061\u006c\u0020\u0063o\u0075\u006e\u0074\u0065\u0072\u0020\u006f\u0076\u0065\u0072f\u006c\u006f\u0077",int64 (_ab )};
return ;};if _ab < 0||_ab >=len (_aee ._bac ){_bd =Error {ErrTraverse ,"\u0069\u006c\u006ceg\u0061\u006c\u0020\u0074\u0072\u0061\u0076\u0065\u0072\u0073\u0061\u006c\u0020\u0069\u006e\u0064\u0065\u0078",int64 (_ab )};return ;};_bae :=_aee ._bac [_ab ];if _bae ._cfd !=_bcff {_ggd (int (_bae ._cfd ),_gcc );
};_aee .File =append (_aee .File ,_bae );_bae .Path =_gcc ;if _bae ._gdc !=_bcff {if _ab > 0{_ggd (int (_bae ._gdc ),append (_gcc ,_bae .Name ));}else {_ggd (int (_bae ._gdc ),_gcc );};};if _bae ._cc !=_bcff {_ggd (int (_bae ._cc ),_gcc );};return ;};_ggd (0,[]string {});
return _bd ;};func (_ggdf *Reader )Export ()([]byte ,error ){_fadd :=_f .NewWriter ();if _ebaf :=_ggdf .exportHeader (_fadd );_ebaf !=nil {return nil ,_ebaf ;};if _aecd :=_fadd .FillWithByte (512,_dddg );_aecd !=nil {return nil ,_aecd ;};_adeea :=[]uint32 {};
if _fcda :=_ggdf .exportDifats (_fadd );_fcda !=nil {return nil ,_fcda ;};_gfd ,_bebc ,_cdbb :=_ggdf .exportMiniStream ();if _cdbb !=nil {return nil ,_cdbb ;};_adeea =append (_adeea ,uint32 (_fadd .Len ())/_ggdf ._fac );if _fed :=_ggdf .exportDirEntries (_fadd );
_fed !=nil {return nil ,_fed ;};_adeea =append (_adeea ,uint32 (_fadd .Len ())/_ggdf ._fac );if _ ,_aff :=_gfd .WriteTo (_fadd );_aff !=nil {return nil ,_aff ;};_adeea =append (_adeea ,uint32 (_fadd .Len ())/_ggdf ._fac );if _ ,_bebf :=_bebc .WriteTo (_fadd );
_bebf !=nil {return nil ,_bebf ;};_adeea =append (_adeea ,uint32 (_fadd .Len ())/_ggdf ._fac );if _aaff :=_ggdf .exportFAT (_fadd ,_adeea );_aaff !=nil {return nil ,_aaff ;};return _fadd .Bytes (),nil ;};func (_bcf *File )FileInfo ()_c .FileInfo {return fileInfo {_bcf }};
func (_dag *File )ReadAt (p []byte ,off int64 )(_cbd int ,_cdc error ){_ead ,_fcb ,_bcg :=_dag ._ggdd ,_dag ._fgc ,_dag ._ade ;_ ,_cdc =_dag .Seek (off ,0);if _cdc ==nil {_cbd ,_cdc =_dag .Read (p );};_dag ._ggdd ,_dag ._fgc ,_dag ._ade =_ead ,_fcb ,_bcg ;
return _cbd ,_cdc ;};func (_eed *Reader )Read (b []byte )(_dfe int ,_egf error ){if _eed ._efa >=len (_eed .File ){return 0,_bfg .EOF ;};return _eed .File [_eed ._efa ].Read (b );};