//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package license ;import (_ee "bytes";_be "compress/gzip";_c "crypto";_cf "crypto/aes";_aa "crypto/cipher";_da "crypto/rand";_adg "crypto/rsa";_fbd "crypto/sha256";_fe "crypto/sha512";_ga "crypto/x509";_de "encoding/base64";_ad "encoding/binary";_fc "encoding/hex";_ge "encoding/json";_ca "encoding/pem";_gd "errors";_fb "fmt";_fd "github.com/unidoc/unioffice/common";_bf "github.com/unidoc/unioffice/common/logger";_b "io";_ef "io/ioutil";_bg "log";_cg "net";_gc "net/http";_g "os";_e "path/filepath";_a "regexp";_cd "sort";_bd "strings";_ac "sync";_f "time";);func (_dbc *LicenseKey )isExpired ()bool {return _dbc .getExpiryDateToCompare ().After (_dbc .ExpiresAt )};var _gfe =false ;func (_gag *LicenseKey )TypeToString ()string {if _gag ._bfg {return "M\u0065t\u0065\u0072\u0065\u0064\u0020\u0073\u0075\u0062s\u0063\u0072\u0069\u0070ti\u006f\u006e";};if _gag .Tier ==LicenseTierUnlicensed {return "\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";};if _gag .Tier ==LicenseTierCommunity {return "\u0041\u0047PL\u0076\u0033\u0020O\u0070\u0065\u006e\u0020Sou\u0072ce\u0020\u0043\u006f\u006d\u006d\u0075\u006eit\u0079\u0020\u004c\u0069\u0063\u0065\u006es\u0065";};if _gag .Tier ==LicenseTierIndividual ||_gag .Tier =="\u0069\u006e\u0064i\u0065"{return "\u0043\u006f\u006dm\u0065\u0072\u0063\u0069a\u006c\u0020\u004c\u0069\u0063\u0065\u006es\u0065\u0020\u002d\u0020\u0049\u006e\u0064\u0069\u0076\u0069\u0064\u0075\u0061\u006c";};return "\u0043\u006fm\u006d\u0065\u0072\u0063\u0069\u0061\u006c\u0020\u004c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u002d\u0020\u0042\u0075\u0073\u0069ne\u0073\u0073";};type LegacyLicense struct{Name string ;Signature string `json:",omitempty"`;Expiration _f .Time ;LicenseType LegacyLicenseType ;};type meteredStatusForm struct{};type meteredUsageCheckinForm struct{Instance string `json:"inst"`;Next string `json:"next"`;UsageNumber int `json:"usage_number"`;NumFailed int64 `json:"num_failed"`;Hostname string `json:"hostname"`;LocalIP string `json:"local_ip"`;MacAddress string `json:"mac_address"`;Package string `json:"package"`;PackageVersion string `json:"package_version"`;Usage map[string ]int `json:"u"`;};func SetLegacyLicenseKey (s string )error {_deb :=_a .MustCompile ("\u005c\u0073");s =_deb .ReplaceAllString (s ,"");var _dggf _b .Reader ;_dggf =_bd .NewReader (s );_dggf =_de .NewDecoder (_de .RawURLEncoding ,_dggf );_dggf ,_cdeb :=_be .NewReader (_dggf );if _cdeb !=nil {return _cdeb ;};_bfgb :=_ge .NewDecoder (_dggf );_ebb :=&LegacyLicense {};if _ddg :=_bfgb .Decode (_ebb );_ddg !=nil {return _ddg ;};if _eaee :=_ebb .Verify (_bcd );_eaee !=nil {return _gd .New ("\u006c\u0069\u0063en\u0073\u0065\u0020\u0076\u0061\u006c\u0069\u0064\u0061\u0074\u0069\u006e\u0020\u0065\u0072\u0072\u006f\u0072");};if _ebb .Expiration .Before (_fd .ReleasedAt ){return _gd .New ("\u006ci\u0063e\u006e\u0073\u0065\u0020\u0065\u0078\u0070\u0069\u0072\u0065\u0064");};_cfc :=_f .Now ().UTC ();_bgcb :=LicenseKey {};_bgcb .CreatedAt =_cfc ;_bgcb .CustomerId ="\u004c\u0065\u0067\u0061\u0063\u0079";_bgcb .CustomerName =_ebb .Name ;_bgcb .Tier =LicenseTierBusiness ;_bgcb .ExpiresAt =_ebb .Expiration ;_bgcb .CreatorName ="\u0055\u006e\u0069\u0044\u006f\u0063\u0020\u0073\u0075p\u0070\u006f\u0072\u0074";_bgcb .CreatorEmail ="\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0040\u0075\u006e\u0069\u0064o\u0063\u002e\u0069\u006f";_bgcb .UniOffice =true ;_aec =&_bgcb ;return nil ;};func _dbg (_afgge *_gc .Response )([]byte ,error ){var _ffb []byte ;_ffc ,_edbc :=_fag (_afgge );if _edbc !=nil {return _ffb ,_edbc ;};return _ef .ReadAll (_ffc );};func (_gee *LicenseKey )Validate ()error {if _gee ._bfg {return nil ;};if len (_gee .LicenseId )< 10{return _fb .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020L\u0069\u0063\u0065n\u0073e\u0020\u0049\u0064");};if len (_gee .CustomerId )< 10{return _fb .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065:\u0020C\u0075\u0073\u0074\u006f\u006d\u0065\u0072 \u0049\u0064");};if len (_gee .CustomerName )< 1{return _fb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u003a\u0020\u0043u\u0073\u0074\u006f\u006d\u0065\u0072\u0020\u004e\u0061\u006d\u0065");};if _ed .After (_gee .CreatedAt ){return _fb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u0065\u0064 \u0041\u0074\u0020\u0069\u0073 \u0069\u006ev\u0061\u006c\u0069\u0064");};if _gee .ExpiresAt .IsZero (){_gcg :=_gee .CreatedAt .AddDate (1,0,0);if _cab .After (_gcg ){_gcg =_cab ;};_gee .ExpiresAt =_gcg ;};if _gee .CreatedAt .After (_gee .ExpiresAt ){return _fb .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u0065\u0064\u0020\u0041\u0074 \u0063a\u006e\u006e\u006f\u0074 \u0062\u0065 \u0047\u0072\u0065\u0061\u0074\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0045\u0078\u0070\u0069\u0072\u0065\u0073\u0020\u0041\u0074");};if _gee .isExpired (){return _fb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020l\u0069\u0063\u0065ns\u0065\u003a\u0020\u0054\u0068\u0065 \u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0068\u0061\u0073\u0020\u0061\u006c\u0072e\u0061\u0064\u0079\u0020\u0065\u0078\u0070\u0069r\u0065\u0064");};if len (_gee .CreatorName )< 1{return _fb .Errorf ("\u0069\u006ev\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u006f\u0072\u0020na\u006d\u0065");};if len (_gee .CreatorEmail )< 1{return _fb .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u003a\u0020\u0043r\u0065\u0061\u0074\u006f\u0072\u0020\u0065\u006d\u0061\u0069\u006c");};if _gee .CreatedAt .After (_eed ){if !_gee .UniOffice {return _fb .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073e\u003a\u0020\u0054\u0068\u0069\u0073\u0020\u0055\u006e\u0069\u0044\u006f\u0063\u0020\u006b\u0065\u0079\u0020i\u0073\u0020\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0066\u006f\u0072\u0020\u0055\u006e\u0069\u004f\u0066\u0066\u0069\u0063\u0065");};};return nil ;};var _ed =_f .Date (2010,1,1,0,0,0,0,_f .UTC );func _fag (_cgfg *_gc .Response )(_b .ReadCloser ,error ){var _cabg error ;var _ggge _b .ReadCloser ;switch _bd .ToLower (_cgfg .Header .Get ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067")){case "\u0067\u007a\u0069\u0070":_ggge ,_cabg =_be .NewReader (_cgfg .Body );if _cabg !=nil {return _ggge ,_cabg ;};defer _ggge .Close ();default:_ggge =_cgfg .Body ;};return _ggge ,nil ;};func (_ddb defaultStateHolder )updateState (_acf ,_gdd ,_dbb string ,_dbbg int ,_dac bool ,_ebg int ,_agfe int ,_fcc _f .Time ,_bfa map[string ]int )error {_ffdc :=_abac ();if len (_ffdc )==0{return _gd .New ("\u0068\u006fm\u0065\u0020\u0064i\u0072\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};_eg :=_e .Join (_ffdc ,"\u002eu\u006e\u0069\u0064\u006f\u0063");_ege :=_g .MkdirAll (_eg ,0777);if _ege !=nil {return _ege ;};if len (_acf )< 20{return _gd .New ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006b\u0065\u0079");};_eedg :=[]byte (_acf );_cagcg :=_fe .Sum512_256 (_eedg [:20]);_fg :=_fc .EncodeToString (_cagcg [:]);_add :=_e .Join (_eg ,_fg );var _eeg reportState ;_eeg .Docs =int64 (_dbbg );_eeg .NumErrors =int64 (_agfe );_eeg .LimitDocs =_dac ;_eeg .RemainingDocs =int64 (_ebg );_eeg .LastWritten =_f .Now ().UTC ();_eeg .LastReported =_fcc ;_eeg .Instance =_gdd ;_eeg .Next =_dbb ;_eeg .Usage =_bfa ;_eee ,_ege :=_ge .Marshal (_eeg );if _ege !=nil {return _ege ;};const _eeee ="\u0068\u00619\u004e\u004b\u0038]\u0052\u0062\u004c\u002a\u006d\u0034\u004c\u004b\u0057";_eee ,_ege =_gbgf ([]byte (_eeee ),_eee );if _ege !=nil {return _ege ;};_ege =_ef .WriteFile (_add ,_eee ,0600);if _ege !=nil {return _ege ;};return nil ;};func (_acd *meteredClient )checkinUsage (_cagc meteredUsageCheckinForm )(meteredUsageCheckinResp ,error ){_cagc .Package ="\u0075n\u0069\u006f\u0066\u0066\u0069\u0063e";_cagc .PackageVersion =_fd .Version ;var _fca meteredUsageCheckinResp ;_efa :=_acd ._agd +"\u002f\u006d\u0065\u0074er\u0065\u0064\u002f\u0075\u0073\u0061\u0067\u0065\u005f\u0063\u0068\u0065\u0063\u006bi\u006e";_dd ,_agdf :=_ge .Marshal (_cagc );if _agdf !=nil {return _fca ,_agdf ;};_bad ,_agdf :=_ggaf (_dd );if _agdf !=nil {return _fca ,_agdf ;};_ggc ,_agdf :=_gc .NewRequest ("\u0050\u004f\u0053\u0054",_efa ,_bad );if _agdf !=nil {return _fca ,_agdf ;};_ggc .Header .Add ("\u0043\u006f\u006et\u0065\u006e\u0074\u002d\u0054\u0079\u0070\u0065","\u0061\u0070p\u006c\u0069\u0063a\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e");_ggc .Header .Add ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_ggc .Header .Add ("\u0041c\u0063e\u0070\u0074\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_ggc .Header .Add ("\u0058-\u0041\u0050\u0049\u002d\u004b\u0045Y",_acd ._edb );_afda ,_agdf :=_acd ._bce .Do (_ggc );if _agdf !=nil {return _fca ,_agdf ;};defer _afda .Body .Close ();if _afda .StatusCode !=200{return _fca ,_fb .Errorf ("\u0066\u0061i\u006c\u0065\u0064\u0020t\u006f\u0020c\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020s\u0074\u0061\u0074\u0075\u0073\u0020\u0063\u006f\u0064\u0065\u0020\u0069s\u003a\u0020\u0025\u0064",_afda .StatusCode );};_gde ,_agdf :=_dbg (_afda );if _agdf !=nil {return _fca ,_agdf ;};_agdf =_ge .Unmarshal (_gde ,&_fca );if _agdf !=nil {return _fca ,_agdf ;};return _fca ,nil ;};type meteredClient struct{_agd string ;_edb string ;_bce *_gc .Client ;};func (_cbc defaultStateHolder )loadState (_eda string )(reportState ,error ){_fdf :=_abac ();if len (_fdf )==0{return reportState {},_gd .New ("\u0068\u006fm\u0065\u0020\u0064i\u0072\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};_fcd :=_e .Join (_fdf ,"\u002eu\u006e\u0069\u0064\u006f\u0063");_bgd :=_g .MkdirAll (_fcd ,0777);if _bgd !=nil {return reportState {},_bgd ;};if len (_eda )< 20{return reportState {},_gd .New ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006b\u0065\u0079");};_bdgef :=[]byte (_eda );_ebdb :=_fe .Sum512_256 (_bdgef [:20]);_ecb :=_fc .EncodeToString (_ebdb [:]);_bfc :=_e .Join (_fcd ,_ecb );_ceg ,_bgd :=_ef .ReadFile (_bfc );if _bgd !=nil {if _g .IsNotExist (_bgd ){return reportState {},nil ;};_bf .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bgd );return reportState {},_gd .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061");};const _eeb ="\u0068\u00619\u004e\u004b\u0038]\u0052\u0062\u004c\u002a\u006d\u0034\u004c\u004b\u0057";_ceg ,_bgd =_gfac ([]byte (_eeb ),_ceg );if _bgd !=nil {return reportState {},_bgd ;};var _adgf reportState ;_bgd =_ge .Unmarshal (_ceg ,&_adgf );if _bgd !=nil {_bf .Log .Error ("\u0045\u0052\u0052OR\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061\u003a\u0020\u0025\u0076",_bgd );return reportState {},_gd .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061");};return _adgf ,nil ;};var _cdeg =&_ac .Mutex {};func SetLicenseKey (content string ,customerName string )error {if _gfe {return nil ;};_gbe ,_bcaf :=_bc (content );if _bcaf !=nil {_bf .Log .Error ("\u004c\u0069c\u0065\u006e\u0073\u0065\u0020\u0063\u006f\u0064\u0065\u0020\u0064\u0065\u0063\u006f\u0064\u0065\u0020\u0065\u0072\u0072\u006f\u0072: \u0025\u0076",_bcaf );return _bcaf ;};if !_bd .EqualFold (_gbe .CustomerName ,customerName ){_bf .Log .Error ("L\u0069ce\u006es\u0065 \u0063\u006f\u0064\u0065\u0020i\u0073\u0073\u0075e\u0020\u002d\u0020\u0043\u0075s\u0074\u006f\u006de\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u006d\u0069\u0073\u006da\u0074\u0063\u0068, e\u0078\u0070\u0065\u0063\u0074\u0065d\u0020\u0027\u0025\u0073\u0027\u002c\u0020\u0062\u0075\u0074\u0020\u0067o\u0074 \u0027\u0025\u0073\u0027",customerName ,_gbe .CustomerName );return _fb .Errorf ("\u0063\u0075\u0073\u0074\u006fm\u0065\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u006d\u0069\u0073\u006d\u0061t\u0063\u0068\u002c\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0027\u0025\u0073\u0027\u002c\u0020\u0062\u0075\u0074\u0020\u0067\u006f\u0074\u0020\u0027\u0025\u0073'",customerName ,_gbe .CustomerName );};_bcaf =_gbe .Validate ();if _bcaf !=nil {_bf .Log .Error ("\u004c\u0069\u0063\u0065\u006e\u0073e\u0020\u0063\u006f\u0064\u0065\u0020\u0076\u0061\u006c\u0069\u0064\u0061\u0074i\u006f\u006e\u0020\u0065\u0072\u0072\u006fr\u003a\u0020\u0025\u0076",_bcaf );return _bcaf ;};_aec =&_gbe ;return nil ;};const _bag ="\u0055\u004e\u0049\u004fFF\u0049\u0043\u0045\u005f\u004c\u0049\u0043\u0045\u004e\u0053\u0045\u005f\u0050\u0041T\u0048";var _eed =_f .Date (2019,6,6,0,0,0,0,_f .UTC );func _bef ()(_cg .IP ,error ){_acgf ,_acc :=_cg .Dial ("\u0075\u0064\u0070","\u0038\u002e\u0038\u002e\u0038\u002e\u0038\u003a\u0038\u0030");if _acc !=nil {return nil ,_acc ;};defer _acgf .Close ();_dcf :=_acgf .LocalAddr ().(*_cg .UDPAddr );return _dcf .IP ,nil ;};func init (){_dg ,_gfa :=_fc .DecodeString (_gga );if _gfa !=nil {_bg .Fatalf ("e\u0072\u0072\u006f\u0072 r\u0065a\u0064\u0069\u006e\u0067\u0020k\u0065\u0079\u003a\u0020\u0025\u0073",_gfa );};_ebd ,_gfa :=_ga .ParsePKIXPublicKey (_dg );if _gfa !=nil {_bg .Fatalf ("e\u0072\u0072\u006f\u0072 r\u0065a\u0064\u0069\u006e\u0067\u0020k\u0065\u0079\u003a\u0020\u0025\u0073",_gfa );};_bcd =_ebd .(*_adg .PublicKey );};func _gfac (_gfaf ,_aca []byte )([]byte ,error ){_agc :=make ([]byte ,_de .URLEncoding .DecodedLen (len (_aca )));_dgb ,_dfc :=_de .URLEncoding .Decode (_agc ,_aca );if _dfc !=nil {return nil ,_dfc ;};_agc =_agc [:_dgb ];_gcc ,_dfc :=_cf .NewCipher (_gfaf );if _dfc !=nil {return nil ,_dfc ;};if len (_agc )< _cf .BlockSize {return nil ,_gd .New ("c\u0069p\u0068\u0065\u0072\u0074\u0065\u0078\u0074\u0020t\u006f\u006f\u0020\u0073ho\u0072\u0074");};_efb :=_agc [:_cf .BlockSize ];_agc =_agc [_cf .BlockSize :];_dce :=_aa .NewCFBDecrypter (_gcc ,_efb );_dce .XORKeyStream (_agc ,_agc );return _agc ,nil ;};type LicenseKey struct{LicenseId string `json:"license_id"`;CustomerId string `json:"customer_id"`;CustomerName string `json:"customer_name"`;Tier string `json:"tier"`;CreatedAt _f .Time `json:"-"`;CreatedAtInt int64 `json:"created_at"`;ExpiresAt _f .Time `json:"-"`;ExpiresAtInt int64 `json:"expires_at"`;CreatedBy string `json:"created_by"`;CreatorName string `json:"creator_name"`;CreatorEmail string `json:"creator_email"`;UniPDF bool `json:"unipdf"`;UniOffice bool `json:"unioffice"`;UniHTML bool `json:"unihtml"`;Trial bool `json:"trial"`;_bfg bool ;_aea string ;};func (_ecg LegacyLicense )Verify (pubKey *_adg .PublicKey )error {_ag :=_ecg ;_ag .Signature ="";_cb :=_ee .Buffer {};_edg :=_ge .NewEncoder (&_cb );if _dbe :=_edg .Encode (_ag );_dbe !=nil {return _dbe ;};_bdf ,_bdgd :=_fc .DecodeString (_ecg .Signature );if _bdgd !=nil {return _bdgd ;};_fea :=_fbd .Sum256 (_cb .Bytes ());_bdgd =_adg .VerifyPKCS1v15 (pubKey ,_c .SHA256 ,_fea [:],_bdf );return _bdgd ;};func SetMeteredKey (apiKey string )error {if len (apiKey )==0{_bf .Log .Error ("\u004d\u0065\u0074\u0065\u0072e\u0064\u0020\u004c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0041\u0050\u0049 \u004b\u0065\u0079\u0020\u006d\u0075\u0073\u0074\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006d\u0070\u0074\u0079");_bf .Log .Error ("\u002d\u0020\u0047\u0072\u0061\u0062\u0020\u006f\u006e\u0065\u0020\u0069\u006e\u0020\u0074h\u0065\u0020\u0046\u0072\u0065\u0065\u0020\u0054\u0069\u0065\u0072\u0020\u0061t\u0020\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0063\u006c\u006fud\u002e\u0075\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");return _fb .Errorf ("\u006de\u0074\u0065\u0072e\u0064\u0020\u006ci\u0063en\u0073\u0065\u0020\u0061\u0070\u0069\u0020k\u0065\u0079\u0020\u006d\u0075\u0073\u0074\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006d\u0070\u0074\u0079\u003a\u0020\u0063\u0072\u0065\u0061\u0074\u0065 o\u006ee\u0020\u0061\u0074\u0020\u0068\u0074t\u0070\u0073\u003a\u002f\u002fc\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069\u0064\u006f\u0063.\u0069\u006f");};if _aec !=nil &&(_aec ._bfg ||_aec .Tier !=LicenseTierUnlicensed ){_bf .Log .Error ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0043\u0061\u006e\u006eo\u0074 \u0073\u0065\u0074\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0074\u0077\u0069c\u0065\u0020\u002d\u0020\u0053\u0068\u006f\u0075\u006c\u0064\u0020\u006a\u0075\u0073\u0074\u0020\u0069\u006e\u0069\u0074\u0069\u0061\u006c\u0069z\u0065\u0020\u006f\u006e\u0063\u0065");return _gd .New ("\u006c\u0069\u0063en\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0061\u006c\u0072\u0065\u0061\u0064\u0079\u0020\u0073\u0065\u0074");};_ce :=_cdd ();_ce ._edb =apiKey ;_cdc ,_def :=_ce .getStatus ();if _def !=nil {return _def ;};if !_cdc .Valid {return _gd .New ("\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0076\u0061\u006c\u0069\u0064");};_caf :=&LicenseKey {_bfg :true ,_aea :apiKey };_aec =_caf ;return nil ;};type meteredStatusResp struct{Valid bool `json:"valid"`;OrgCredits int64 `json:"org_credits"`;OrgUsed int64 `json:"org_used"`;OrgRemaining int64 `json:"org_remaining"`;};type reportState struct{Instance string `json:"inst"`;Next string `json:"n"`;Docs int64 `json:"d"`;NumErrors int64 `json:"e"`;LimitDocs bool `json:"ld"`;RemainingDocs int64 `json:"rd"`;LastReported _f .Time `json:"lr"`;LastWritten _f .Time `json:"lw"`;Usage map[string ]int `json:"u"`;};func _dgd (_gbb string ,_efcc string ,_fgb bool )error {if _aec ==nil {return _gd .New ("\u006e\u006f\u0020\u006c\u0069\u0063\u0065\u006e\u0073e\u0020\u006b\u0065\u0079");};if !_aec ._bfg ||len (_aec ._aea )==0{return nil ;};if len (_gbb )==0&&!_fgb {return _gd .New ("\u0064\u006f\u0063\u004b\u0065\u0079\u0020\u006e\u006ft\u0020\u0073\u0065\u0074");};_cdeg .Lock ();defer _cdeg .Unlock ();if _fcfa ==nil {_fcfa =map[string ]struct{}{};};if _dga ==nil {_dga =map[string ]int {};};_cdea :=0;if !_fgb {_ ,_faf :=_fcfa [_gbb ];if !_faf {_fcfa [_gbb ]=struct{}{};_cdea ++;};if _cdea ==0{return nil ;};_dga [_efcc ]++;};_baff :=_f .Now ();_ebdf ,_bec :=_ceb .loadState (_aec ._aea );if _bec !=nil {_bf .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bec );return _bec ;};if _ebdf .Usage ==nil {_ebdf .Usage =map[string ]int {};};for _dee ,_cea :=range _dga {_ebdf .Usage [_dee ]+=_cea ;};_dga =nil ;const _cdbb =24*_f .Hour ;const _dgg =3*24*_f .Hour ;if len (_ebdf .Instance )==0||_baff .Sub (_ebdf .LastReported )> _cdbb ||(_ebdf .LimitDocs &&_ebdf .RemainingDocs <=_ebdf .Docs +int64 (_cdea ))||_fgb {_afg ,_df :=_g .Hostname ();if _df !=nil {return _df ;};_agfed :=_ebdf .Docs ;_aaf ,_gaf ,_df :=_edab ();if _df !=nil {return _df ;};_cd .Strings (_gaf );_cd .Strings (_aaf );_ecf ,_df :=_bef ();if _df !=nil {return _df ;};_dcg :=false ;for _ ,_dbd :=range _gaf {if _dbd ==_ecf .String (){_dcg =true ;};};if !_dcg {_gaf =append (_gaf ,_ecf .String ());};_fgf :=_cdd ();_fgf ._edb =_aec ._aea ;_agfed +=int64 (_cdea );_dea :=meteredUsageCheckinForm {Instance :_ebdf .Instance ,Next :_ebdf .Next ,UsageNumber :int (_agfed ),NumFailed :_ebdf .NumErrors ,Hostname :_afg ,LocalIP :_bd .Join (_gaf ,"\u002c\u0020"),MacAddress :_bd .Join (_aaf ,"\u002c\u0020"),Package :"\u0075n\u0069\u006f\u0066\u0066\u0069\u0063e",PackageVersion :_fd .Version ,Usage :_ebdf .Usage };if len (_aaf )==0{_dea .MacAddress ="\u006e\u006f\u006e\u0065";};_aef :=int64 (0);_aba :=_ebdf .NumErrors ;_cegb :=_baff ;_bgg :=0;_fcce :=_ebdf .LimitDocs ;_daad ,_df :=_fgf .checkinUsage (_dea );if _df !=nil {if _baff .Sub (_ebdf .LastReported )> _dgg {return _gd .New ("\u0074\u006f\u006f\u0020\u006c\u006f\u006e\u0067\u0020\u0073\u0069\u006e\u0063\u0065\u0020\u006c\u0061\u0073\u0074\u0020\u0073\u0075\u0063\u0063e\u0073\u0073\u0066\u0075\u006c \u0063\u0068e\u0063\u006b\u0069\u006e");};_aef =_agfed ;_aba ++;_cegb =_ebdf .LastReported ;}else {_fcce =_daad .LimitDocs ;_bgg =_daad .RemainingDocs ;_aba =0;};if len (_daad .Instance )==0{_daad .Instance =_dea .Instance ;};if len (_daad .Next )==0{_daad .Next =_dea .Next ;};_df =_ceb .updateState (_fgf ._edb ,_daad .Instance ,_daad .Next ,int (_aef ),_fcce ,_bgg ,int (_aba ),_cegb ,nil );if _df !=nil {return _df ;};if !_daad .Success {return _fb .Errorf ("\u0065r\u0072\u006f\u0072\u003a\u0020\u0025s",_daad .Message );};}else {_bec =_ceb .updateState (_aec ._aea ,_ebdf .Instance ,_ebdf .Next ,int (_ebdf .Docs )+_cdea ,_ebdf .LimitDocs ,int (_ebdf .RemainingDocs ),int (_ebdf .NumErrors ),_ebdf .LastReported ,_ebdf .Usage );if _bec !=nil {return _bec ;};};return nil ;};func TrackUse (useKey string ){if _aec ==nil {return ;};if !_aec ._bfg ||len (_aec ._aea )==0{return ;};if len (useKey )==0{return ;};_cdeg .Lock ();defer _cdeg .Unlock ();if _dga ==nil {_dga =map[string ]int {};};_dga [useKey ]++;};func MakeUnlicensedKey ()*LicenseKey {_afd :=LicenseKey {};_afd .CustomerName ="\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";_afd .Tier =LicenseTierUnlicensed ;_afd .CreatedAt =_f .Now ().UTC ();_afd .CreatedAtInt =_afd .CreatedAt .Unix ();return &_afd ;};var _ceb stateLoader =defaultStateHolder {};func _gf (_baf string ,_ea string ,_fcf string )(string ,error ){_gcf :=_bd .Index (_fcf ,_baf );if _gcf ==-1{return "",_fb .Errorf ("\u0068\u0065a\u0064\u0065\u0072 \u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};_fce :=_bd .Index (_fcf ,_ea );if _fce ==-1{return "",_fb .Errorf ("\u0066\u006fo\u0074\u0065\u0072 \u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};_af :=_gcf +len (_baf )+1;return _fcf [_af :_fce -1],nil ;};type MeteredStatus struct{OK bool ;Credits int64 ;Used int64 ;};var _dga map[string ]int ;func (_gfg *LicenseKey )IsLicensed ()bool {if _gfg ==nil {return false ;};return _gfg .Tier !=LicenseTierUnlicensed ||_gfg ._bfg ;};func _cgf (_eb string ,_gab []byte )(string ,error ){_cdb ,_ :=_ca .Decode ([]byte (_eb ));if _cdb ==nil {return "",_fb .Errorf ("\u0050\u0072\u0069\u0076\u004b\u0065\u0079\u0020\u0066a\u0069\u006c\u0065\u0064");};_fdc ,_bdg :=_ga .ParsePKCS1PrivateKey (_cdb .Bytes );if _bdg !=nil {return "",_bdg ;};_ae :=_fe .New ();_ae .Write (_gab );_gg :=_ae .Sum (nil );_feg ,_bdg :=_adg .SignPKCS1v15 (_da .Reader ,_fdc ,_c .SHA512 ,_gg );if _bdg !=nil {return "",_bdg ;};_cag :=_de .StdEncoding .EncodeToString (_gab );_cag +="\u000a\u002b\u000a";_cag +=_de .StdEncoding .EncodeToString (_feg );return _cag ,nil ;};func (_agf *meteredClient )getStatus ()(meteredStatusResp ,error ){var _eef meteredStatusResp ;_cfb :=_agf ._agd +"\u002fm\u0065t\u0065\u0072\u0065\u0064\u002f\u0073\u0074\u0061\u0074\u0075\u0073";var _gec meteredStatusForm ;_ecc ,_gaa :=_ge .Marshal (_gec );if _gaa !=nil {return _eef ,_gaa ;};_cfg ,_gaa :=_ggaf (_ecc );if _gaa !=nil {return _eef ,_gaa ;};_daf ,_gaa :=_gc .NewRequest ("\u0050\u004f\u0053\u0054",_cfb ,_cfg );if _gaa !=nil {return _eef ,_gaa ;};_daf .Header .Add ("\u0043\u006f\u006et\u0065\u006e\u0074\u002d\u0054\u0079\u0070\u0065","\u0061\u0070p\u006c\u0069\u0063a\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e");_daf .Header .Add ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_daf .Header .Add ("\u0041c\u0063e\u0070\u0074\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_daf .Header .Add ("\u0058-\u0041\u0050\u0049\u002d\u004b\u0045Y",_agf ._edb );_fae ,_gaa :=_agf ._bce .Do (_daf );if _gaa !=nil {return _eef ,_gaa ;};defer _fae .Body .Close ();if _fae .StatusCode !=200{return _eef ,_fb .Errorf ("\u0066\u0061i\u006c\u0065\u0064\u0020t\u006f\u0020c\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020s\u0074\u0061\u0074\u0075\u0073\u0020\u0063\u006f\u0064\u0065\u0020\u0069s\u003a\u0020\u0025\u0064",_fae .StatusCode );};_bea ,_gaa :=_dbg (_fae );if _gaa !=nil {return _eef ,_gaa ;};_gaa =_ge .Unmarshal (_bea ,&_eef );if _gaa !=nil {return _eef ,_gaa ;};return _eef ,nil ;};func GetLicenseKey ()*LicenseKey {if _aec ==nil {return nil ;};_aafa :=*_aec ;return &_aafa ;};var _cab =_f .Date (2020,1,1,0,0,0,0,_f .UTC );func GenRefId (prefix string )(string ,error ){var _dgfg _ee .Buffer ;_dgfg .WriteString (prefix );_gafd :=make ([]byte ,8+16);_cebb :=_f .Now ().UTC ().UnixNano ();_ad .BigEndian .PutUint64 (_gafd ,uint64 (_cebb ));_ ,_cbda :=_da .Read (_gafd [8:]);if _cbda !=nil {return "",_cbda ;};_dgfg .WriteString (_fc .EncodeToString (_gafd ));return _dgfg .String (),nil ;};const _fcb ="\u000a\u002d\u002d\u002d\u002d\u002d\u0042\u0045\u0047\u0049\u004e \u0050\u0055\u0042\u004c\u0049\u0043\u0020\u004b\u0045Y\u002d\u002d\u002d\u002d\u002d\u000a\u004d\u0049I\u0042\u0049\u006a\u0041NB\u0067\u006b\u0071\u0068\u006b\u0069G\u0039\u0077\u0030\u0042\u0041\u0051\u0045\u0046A\u0041\u004f\u0043\u0041\u0051\u0038\u0041\u004d\u0049\u0049\u0042\u0043\u0067\u004b\u0043\u0041\u0051\u0045A\u006dF\u0055\u0069\u0079\u0064\u0037\u0062\u0035\u0058\u006a\u0070\u006b\u0050\u0035\u0052\u0061\u0070\u0034\u0077\u000a\u0044\u0063\u0031d\u0079\u007a\u0049\u0051\u0034\u004c\u0065\u006b\u0078\u0072\u0076\u0079\u0074\u006e\u0045\u004d\u0070\u004e\u0055\u0062\u006f\u0036i\u0041\u0037\u0034\u0056\u0038\u0072\u0075\u005a\u004f\u0076\u0072\u0053\u0063\u0073\u0066\u0032\u0051\u0065\u004e9\u002f\u0071r\u0055\u0047\u0038\u0071\u0045\u0062\u0055\u0057\u0064\u006f\u0045\u0059\u0071+\u000a\u006f\u0074\u0046\u004e\u0041\u0046N\u0078\u006c\u0047\u0062\u0078\u0062\u0044\u0048\u0063\u0064\u0047\u0056\u0061\u004d\u0030\u004f\u0058\u0064\u0058g\u0044y\u004c5\u0061\u0049\u0045\u0061\u0067\u004c\u0030\u0063\u0035\u0070\u0077\u006a\u0049\u0064\u0050G\u0049\u006e\u0034\u0036\u0066\u0037\u0038\u0065\u004d\u004a\u002b\u004a\u006b\u0064\u0063\u0070\u0044\n\u0044\u004a\u0061\u0071\u0059\u0058d\u0072\u007a5\u004b\u0065\u0073\u0068\u006aS\u0069\u0049\u0061\u0061\u0037\u006d\u0065\u006e\u0042\u0049\u0041\u0058\u0053\u0034\u0055\u0046\u0078N\u0066H\u0068\u004e\u0030\u0048\u0043\u0059\u005a\u0059\u0071\u0051\u0047\u0037\u0062K+\u0073\u0035\u0072R\u0048\u006f\u006e\u0079\u0064\u004eW\u0045\u0047\u000a\u0048\u0038M\u0079\u0076\u00722\u0070\u0079\u0061\u0032K\u0072\u004d\u0075m\u0066\u006d\u0041\u0078\u0055\u0042\u0036\u0066\u0065\u006e\u0043\u002f4\u004f\u0030\u0057\u00728\u0067\u0066\u0050\u004f\u0055\u0038R\u0069\u0074\u006d\u0062\u0044\u0076\u0051\u0050\u0049\u0052\u0058\u004fL\u0034\u0076\u0054B\u0072\u0042\u0064\u0062a\u0041\u000a9\u006e\u0077\u004e\u0050\u002b\u0069\u002f\u002f\u0032\u0030\u004d\u00542\u0062\u0078\u006d\u0065\u0057\u0042\u002b\u0067\u0070\u0063\u0045\u0068G\u0070\u0058\u005a7\u0033\u0033\u0061\u007a\u0051\u0078\u0072\u0043\u0033\u004a\u0034\u0076\u0033C\u005a\u006d\u0045\u004eS\u0074\u0044\u004b\u002f\u004b\u0044\u0053\u0050\u004b\u0055\u0047\u0066\u00756\u000a\u0066\u0077I\u0044\u0041\u0051\u0041\u0042\u000a\u002d\u002d\u002d\u002d\u002dE\u004e\u0044\u0020\u0050\u0055\u0042\u004c\u0049\u0043 \u004b\u0045Y\u002d\u002d\u002d\u002d\u002d\n";func (_bee *LicenseKey )ToString ()string {if _bee ._bfg {return "M\u0065t\u0065\u0072\u0065\u0064\u0020\u0073\u0075\u0062s\u0063\u0072\u0069\u0070ti\u006f\u006e";};_eec :=_fb .Sprintf ("\u004ci\u0063e\u006e\u0073\u0065\u0020\u0049\u0064\u003a\u0020\u0025\u0073\u000a",_bee .LicenseId );_eec +=_fb .Sprintf ("\u0043\u0075s\u0074\u006f\u006de\u0072\u0020\u0049\u0064\u003a\u0020\u0025\u0073\u000a",_bee .CustomerId );_eec +=_fb .Sprintf ("\u0043u\u0073t\u006f\u006d\u0065\u0072\u0020N\u0061\u006de\u003a\u0020\u0025\u0073\u000a",_bee .CustomerName );_eec +=_fb .Sprintf ("\u0054i\u0065\u0072\u003a\u0020\u0025\u0073\n",_bee .Tier );_eec +=_fb .Sprintf ("\u0043r\u0065a\u0074\u0065\u0064\u0020\u0041\u0074\u003a\u0020\u0025\u0073\u000a",_fd .UtcTimeFormat (_bee .CreatedAt ));if _bee .ExpiresAt .IsZero (){_eec +="\u0045x\u0070i\u0072\u0065\u0073\u0020\u0041t\u003a\u0020N\u0065\u0076\u0065\u0072\u000a";}else {_eec +=_fb .Sprintf ("\u0045x\u0070i\u0072\u0065\u0073\u0020\u0041\u0074\u003a\u0020\u0025\u0073\u000a",_fd .UtcTimeFormat (_bee .ExpiresAt ));};_eec +=_fb .Sprintf ("\u0043\u0072\u0065\u0061\u0074\u006f\u0072\u003a\u0020\u0025\u0073\u0020<\u0025\u0073\u003e\u000a",_bee .CreatorName ,_bee .CreatorEmail );return _eec ;};var _fcfa map[string ]struct{};func _ggaf (_aadg []byte )(_b .Reader ,error ){_feb :=new (_ee .Buffer );_dbf :=_be .NewWriter (_feb );_dbf .Write (_aadg );_dad :=_dbf .Close ();if _dad !=nil {return nil ,_dad ;};return _feb ,nil ;};func _gbgf (_cbdd ,_age []byte )([]byte ,error ){_gced ,_eff :=_cf .NewCipher (_cbdd );if _eff !=nil {return nil ,_eff ;};_eae :=make ([]byte ,_cf .BlockSize +len (_age ));_ggdd :=_eae [:_cf .BlockSize ];if _ ,_ced :=_b .ReadFull (_da .Reader ,_ggdd );_ced !=nil {return nil ,_ced ;};_aaa :=_aa .NewCFBEncrypter (_gced ,_ggdd );_aaa .XORKeyStream (_eae [_cf .BlockSize :],_age );_cbe :=make ([]byte ,_de .URLEncoding .EncodedLen (len (_eae )));_de .URLEncoding .Encode (_cbe ,_eae );return _cbe ,nil ;};func (_cfa *LicenseKey )getExpiryDateToCompare ()_f .Time {if _cfa .Trial {return _f .Now ().UTC ();};return _fd .ReleasedAt ;};const (_acg ="\u002d\u002d\u002d--\u0042\u0045\u0047\u0049\u004e\u0020\u0055\u004e\u0049D\u004fC\u0020L\u0049C\u0045\u004e\u0053\u0045\u0020\u004b\u0045\u0059\u002d\u002d\u002d\u002d\u002d";_ff ="\u002d\u002d\u002d\u002d\u002d\u0045\u004e\u0044\u0020\u0055\u004e\u0049\u0044\u004f\u0043 \u004cI\u0043\u0045\u004e\u0053\u0045\u0020\u004b\u0045\u0059\u002d\u002d\u002d\u002d\u002d";);var _aec =MakeUnlicensedKey ();type meteredUsageCheckinResp struct{Instance string `json:"inst"`;Next string `json:"next"`;Success bool `json:"success"`;Message string `json:"message"`;RemainingDocs int `json:"rd"`;LimitDocs bool `json:"ld"`;};func _abac ()string {_gce :=_g .Getenv ("\u0048\u004f\u004d\u0045");if len (_gce )==0{_gce ,_ =_g .UserHomeDir ();};return _gce ;};func _bdge (_acb string ,_ggd string )([]byte ,error ){var (_gb int ;_efc string ;);for _ ,_efc =range []string {"\u000a\u002b\u000a","\u000d\u000a\u002b\r\u000a","\u0020\u002b\u0020"}{if _gb =_bd .Index (_ggd ,_efc );_gb !=-1{break ;};};if _gb ==-1{return nil ,_fb .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u002c \u0073i\u0067n\u0061t\u0075\u0072\u0065\u0020\u0073\u0065\u0070\u0061\u0072\u0061\u0074\u006f\u0072");};_ada :=_ggd [:_gb ];_cad :=_gb +len (_efc );_bac :=_ggd [_cad :];if _ada ==""||_bac ==""{return nil ,_fb .Errorf ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0069n\u0070\u0075\u0074,\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067\u0020or\u0069\u0067\u0069n\u0061\u006c \u006f\u0072\u0020\u0073\u0069\u0067n\u0061\u0074u\u0072\u0065");};_gac ,_cde :=_de .StdEncoding .DecodeString (_ada );if _cde !=nil {return nil ,_fb .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u0020\u006f\u0072\u0069\u0067\u0069\u006ea\u006c");};_acgc ,_cde :=_de .StdEncoding .DecodeString (_bac );if _cde !=nil {return nil ,_fb .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_fa ,_ :=_ca .Decode ([]byte (_acb ));if _fa ==nil {return nil ,_fb .Errorf ("\u0050\u0075\u0062\u004b\u0065\u0079\u0020\u0066\u0061\u0069\u006c\u0065\u0064");};_gbf ,_cde :=_ga .ParsePKIXPublicKey (_fa .Bytes );if _cde !=nil {return nil ,_cde ;};_daa :=_gbf .(*_adg .PublicKey );if _daa ==nil {return nil ,_fb .Errorf ("\u0050u\u0062\u004b\u0065\u0079\u0020\u0063\u006f\u006e\u0076\u0065\u0072s\u0069\u006f\u006e\u0020\u0066\u0061\u0069\u006c\u0065\u0064");};_gae :=_fe .New ();_gae .Write (_gac );_ffd :=_gae .Sum (nil );_cde =_adg .VerifyPKCS1v15 (_daa ,_c .SHA512 ,_ffd ,_acgc );if _cde !=nil {return nil ,_cde ;};return _gac ,nil ;};type stateLoader interface{loadState (_ade string )(reportState ,error );updateState (_fed ,_cc ,_ggg string ,_geg int ,_dc bool ,_aad int ,_adc int ,_aac _f .Time ,_cfaf map[string ]int )error ;};func _bc (_bca string )(LicenseKey ,error ){var _gcd LicenseKey ;_db ,_fdd :=_gf (_acg ,_ff ,_bca );if _fdd !=nil {return _gcd ,_fdd ;};_bcf ,_fdd :=_bdge (_fcb ,_db );if _fdd !=nil {return _gcd ,_fdd ;};_fdd =_ge .Unmarshal (_bcf ,&_gcd );if _fdd !=nil {return _gcd ,_fdd ;};_gcd .CreatedAt =_f .Unix (_gcd .CreatedAtInt ,0);if _gcd .ExpiresAtInt > 0{_bb :=_f .Unix (_gcd .ExpiresAtInt ,0);_gcd .ExpiresAt =_bb ;};return _gcd ,nil ;};func _edab ()([]string ,[]string ,error ){_dbcb ,_ggcf :=_cg .Interfaces ();if _ggcf !=nil {return nil ,nil ,_ggcf ;};var _adce []string ;var _gfae []string ;for _ ,_acgg :=range _dbcb {if _acgg .Flags &_cg .FlagUp ==0||_ee .Equal (_acgg .HardwareAddr ,nil ){continue ;};_afgg ,_gfc :=_acgg .Addrs ();if _gfc !=nil {return nil ,nil ,_gfc ;};_dff :=0;for _ ,_fab :=range _afgg {var _dbcd _cg .IP ;switch _faa :=_fab .(type ){case *_cg .IPNet :_dbcd =_faa .IP ;case *_cg .IPAddr :_dbcd =_faa .IP ;};if _dbcd .IsLoopback (){continue ;};if _dbcd .To4 ()==nil {continue ;};_gfae =append (_gfae ,_dbcd .String ());_dff ++;};_cga :=_acgg .HardwareAddr .String ();if _cga !=""&&_dff > 0{_adce =append (_adce ,_cga );};};return _adce ,_gfae ,nil ;};func init (){_dfb :=_g .Getenv (_bag );_ceae :=_g .Getenv (_dgf );if len (_dfb )==0||len (_ceae )==0{return ;};_bafg ,_ggb :=_ef .ReadFile (_dfb );if _ggb !=nil {_bf .Log .Error ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0072\u0065ad \u006cic\u0065\u006e\u0073\u0065\u0020\u0063\u006fde\u0020\u0066\u0069\u006c\u0065\u003a\u0020%\u0076",_ggb );return ;};_ggb =SetLicenseKey (string (_bafg ),_ceae );if _ggb !=nil {_bf .Log .Error ("\u0055\u006e\u0061b\u006c\u0065\u0020\u0074o\u0020\u006c\u006f\u0061\u0064\u0020\u006ci\u0063\u0065\u006e\u0073\u0065\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0076",_ggb );return ;};};func _cdd ()*meteredClient {_eab :=meteredClient {_agd :"h\u0074\u0074\u0070\u0073\u003a\u002f/\u0063\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069d\u006f\u0063\u002ei\u006f/\u0061\u0070\u0069",_bce :&_gc .Client {Timeout :30*_f .Second }};if _cff :=_g .Getenv ("\u0055N\u0049\u0044\u004f\u0043_\u004c\u0049\u0043\u0045\u004eS\u0045_\u0053E\u0052\u0056\u0045\u0052\u005f\u0055\u0052L");_bd .HasPrefix (_cff ,"\u0068\u0074\u0074\u0070"){_eab ._agd =_cff ;};return &_eab ;};var _bcd *_adg .PublicKey ;type LegacyLicenseType byte ;const (LicenseTierUnlicensed ="\u0075\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";LicenseTierCommunity ="\u0063o\u006d\u006d\u0075\u006e\u0069\u0074y";LicenseTierIndividual ="\u0069\u006e\u0064\u0069\u0076\u0069\u0064\u0075\u0061\u006c";LicenseTierBusiness ="\u0062\u0075\u0073\u0069\u006e\u0065\u0073\u0073";);type defaultStateHolder struct{};func GetMeteredState ()(MeteredStatus ,error ){if _aec ==nil {return MeteredStatus {},_gd .New ("\u006c\u0069\u0063\u0065ns\u0065\u0020\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};if !_aec ._bfg ||len (_aec ._aea )==0{return MeteredStatus {},_gd .New ("\u0061p\u0069 \u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};_beeb ,_bff :=_ceb .loadState (_aec ._aea );if _bff !=nil {_bf .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_bff );return MeteredStatus {},_bff ;};if _beeb .Docs > 0{_bace :=_dgd ("","",true );if _bace !=nil {return MeteredStatus {},_bace ;};};_cdeg .Lock ();defer _cdeg .Unlock ();_gbg :=_cdd ();_gbg ._edb =_aec ._aea ;_ab ,_bff :=_gbg .getStatus ();if _bff !=nil {return MeteredStatus {},_bff ;};if !_ab .Valid {return MeteredStatus {},_gd .New ("\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0076\u0061\u006c\u0069\u0064");};_dde :=MeteredStatus {OK :true ,Credits :_ab .OrgCredits ,Used :_ab .OrgUsed };return _dde ,nil ;};const _dgf ="\u0055\u004e\u0049OF\u0046\u0049\u0043\u0045\u005f\u0043\u0055\u0053\u0054\u004f\u004d\u0045\u0052\u005f\u004e\u0041\u004d\u0045";const _gga ="\u0033\u0030\u0035\u0063\u0033\u0030\u0030\u00640\u0036\u0030\u0039\u0032\u0061\u0038\u00364\u0038\u0038\u0036\u0066\u0037\u0030d\u0030\u0031\u0030\u0031\u0030\u00310\u0035\u0030\u0030\u0030\u0033\u0034\u0062\u0030\u0030\u0033\u0030\u00348\u0030\u0032\u0034\u0031\u0030\u0030\u0062\u0038\u0037\u0065\u0061\u0066\u0062\u0036\u0063\u0030\u0037\u0034\u0039\u0039\u0065\u0062\u00397\u0063\u0063\u0039\u0064\u0033\u0035\u0036\u0035\u0065\u0063\u00663\u0031\u0036\u0038\u0031\u0039\u0036\u0033\u0030\u0031\u0039\u0030\u0037c\u0038\u0034\u0031\u0061\u0064\u0064c6\u0036\u0035\u0030\u0038\u0036\u0062\u0062\u0033\u0065\u0064\u0038\u0065\u0062\u0031\u0032\u0064\u0039\u0064\u0061\u0032\u0036\u0063\u0061\u0066\u0061\u0039\u0036\u00345\u0030\u00314\u0036\u0064\u0061\u0038\u0062\u0064\u0030\u0063c\u0066\u0031\u0035\u0035\u0066\u0063a\u0063\u0063\u00368\u0036\u0039\u0035\u0035\u0065\u0066\u0030\u0033\u0030\u0032\u0066\u0061\u0034\u0034\u0061\u0061\u0033\u0065\u0063\u0038\u0039\u0034\u0031\u0037\u0062\u0030\u0032\u0030\u0033\u0030\u0031\u0030\u0030\u0030\u0031";func Track (docKey string ,useKey string )error {return _dgd (docKey ,useKey ,false )};